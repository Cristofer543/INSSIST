!function(){function t(t){return Array.isArray(t)?t:[t]}function e(e,o=document){e=t(e);for(const t of e){const e=o.querySelector(t);if(e)return e}return null}function o(e,o=document){e=t(e);const a=[];for(const t of e){const e=o.querySelectorAll(t);for(const t of e)a.includes(t)||a.push(t)}return a}const a=36e5,n=864e5;var i={SECOND:1e3,MINUTE:6e4,HOUR:a,DAY:n,WEEK:6048e5,MONTH:26784e5};var r={createName:function(t,e){return`${t}|${JSON.stringify(e)}`},getName:s,getParams:function(){return function(t){try{return JSON.parse(t)}catch(t){return null}}(window.self.name.split("|")[1])||{}},isIframe:function(t=null){return window.self!==parent&&(!t||s()===t)}};function s(){return window.self.name.split("|")[0]||null}async function l(t,e=null){let o,a;return"number"==typeof e?(o=e,a=100):e?(o=e.timeout||3e4,a=e.frequency||100):(o=3e4,a=100),new Promise(((e,n)=>{const i=t();if(i)return void e(i);const r=setInterval((()=>{const o=t();o&&(clearInterval(r),e(o))}),a);setTimeout((()=>{clearInterval(r),e(null)}),o)}))}var d=Object.assign((function(t,e={}){document.addEventListener("click",t,e)}),{off:function(t,e={}){document.removeEventListener("click",t,e)}});var c=Object.assign((function(t,e=!1){0===u.length&&(p=new MutationObserver((t=>{for(const e of u){p.disconnect();try{e(t)}catch(t){console.error("onDocMutations",t)}if(!p)return;p.observe(document.documentElement,{attributes:!0,childList:!0,subtree:!0})}})),p.observe(document.documentElement,{attributes:!0,childList:!0,subtree:!0}));u.push(t),e&&t()}),{off:function(t){const e=u.indexOf(t);if(-1===e)return;u.splice(e,1),0===u.length&&(p.disconnect(),p=null)}});const u=[];let p;function g(e,...o){let a=0;return e.join("###").split(",").join("\n,\n").split("{").join("\n{").split("\n").map((e=>{if(!e.includes("###"))return e;const n=t(o[a]).map((t=>e.split("###").join(t))).join(",\n");return a+=1,n})).join("\n").split(";").join(" !important;").replace(/!important\s*!important/g,"!important")}function h(...t){const e=g(...t);document.head.insertAdjacentHTML("afterbegin",e)}var m={};Object.assign(m,{$:e,$$:o,safe:function(t,e=null){try{const o=t();return o instanceof Promise?new Promise(((t,a)=>{o.then(t).catch((o=>{o&&console.error(o),t(e)}))})):o}catch(t){return console.error(t),e}},waitFor:l,callAsync:async function(t,...e){return new Promise((o=>{t(...e,o)}))},onDocClick:d,createEmitter:function(){const t=[];return Object.assign(e,{handle:function(t){if("function"!=typeof t)return void console.error("function is expected");e(t)},clear:function(){t.length=0},off:function(e){const o=t.indexOf(e);-1!==o&&t.splice(o,1)},isEmpty:function(){return 0===t.length}});function e(...e){"function"==typeof e[0]?t.push(e[0]):t.forEach((t=>t(...e)))}},onDocMutations:c,removeFromArray:function(t,e){let o;o="function"==typeof e?t.findIndex(e):t.indexOf(e),-1!==o&&t.splice(o,1)},insertMultistyle:h,waitForDocumentReady:async function(){await l((()=>document.body))},createResolvablePromise:function(){let t;const e=new Promise((e=>{t=e}));return Object.defineProperty(e,"resolve",{get:()=>t}),e},time:i,iframe:r});const P={get:function(t,e){if(!this._supported())return e;const o=localStorage.getItem(t);if(null==o)return e;if("true"===o)return!0;if("false"===o)return!1;if(o.startsWith("[")||o.startsWith("{"))return JSON.parse(o);const a=Number(o);return Number.isNaN(a)?o:a},set:function(t,e){if(this._supported())try{"string"==typeof e?localStorage.setItem(t,e):localStorage.setItem(t,JSON.stringify(e))}catch(o){console.error("local-storage-json: failed to set",{key:t,value:e,details:o})}},has:function(t){return!!this._supported()&&t in localStorage},remove:function(t){this._supported()&&localStorage.removeItem(t)},_supported:function(){return"undefined"!=typeof window&&!!window.localStorage}};var _={};_.getConfig=()=>{const t=P.get("fusion.config");return t&&t.version>=_.config.version?t:_.config},_.controller={getConfig:function t(){const e=t;if(!e.config){const t=r.getParams();e.config=t.fusionConfig}return e.config}},_.config={version:128,dmSelectors:{general:{reactRoot:["#react-root",'[id^="mount"]'],page:[".t30g8",".PolarisDirectShell._a9-0","section.PolarisBaseShell > ._a9-0","section.PolarisBaseShell > ._aa5f"],header:["._lz6s",".PolarisDesktopNav._acum"],main:[".x14k21rp"],iconButton:[".wpO6b","._abl-"],blueButton:[".y3zKF:not(.yWX7d)",".PolarisIGCoreButton:not(._acao)"],postActionsTooltip:[".eeDIk","._a3gq ._acqw"],postActionsTooltipMe:[".AeyYE","._a3gq ._acqx"],postActionsTooltipPeer:[".DgKgc","._a3gq ._acqy"],postActionsTooltipTail:["._18Jen","._a3gq ._abwl"],errorReportPixel:'body > img[src*="Error"]',mediaViewerContainer:['.RnEpo [role="dialog"] [style*="max-width"][style*="max-height"] > div','.BaseDialog [role="dialog"] [style*="max-width"][style*="max-height"] > div'],mediaViewerImage:['.RnEpo [role="dialog"] [style*="max-width"][style*="max-height"] img','.BaseDialog [role="dialog"] [style*="max-width"][style*="max-height"] img'],mediaViewerVideo:['.RnEpo [role="dialog"] [style*="max-width"][style*="max-height"] video','.BaseDialog [role="dialog"] [style*="max-width"][style*="max-height"] video'],writeBar:[".HcJZg .X3a-9",".PolarisDirectComposer._acrb"],addMediaButton:[".X3a-9 div + .wpO6b",".PolarisDirectComposer > button:nth-of-type(1)"],textarea:[".X3a-9 textarea",".PolarisDirectComposer textarea"],messageBody:[".hjZTB",".PolarisIGCoreText._aadf"],emojiPicker:["._01UL2",".PolarisIGCorePopover._aa61"],postPreview:[".z82Jr",".PolarisDirectMessageMediaShare._acfr"],postViewerModal:["._Yhr4"],portal:".BasePortal",threadHeader:[".PolarisDirectThreadViewHeader > .PolarisGenericDesktopHeader"],threadDetailsHeader:[".PolarisDirectThreadView > .PolarisGenericDesktopHeader"],threadDetailsMuteSection:[".PolarisDirectThreadDetailsView > div:first-child"],content:["section.PolarisRefreshedBaseShell"],navigation:[".createKeyCommandWrapper > .PolarisNavigation"],accountSwitcher:[".PolarisGenericDesktopHeader._aa4o"]},leftPanel:{header:[".oNO81 .S-mcP",".PolarisDesktopDirectPage._aa5c .PolarisGenericDesktopHeader._aa4j"],subheaderWhenNoFolders:[".oNO81 .iHqQ7",".PolarisDesktopDirectPage._aa5c ._abbz"],switchAccountButton:[".oNO81 .S-mcP .m7ETg button",".PolarisDesktopDirectPage._aa5c .PolarisIGCoreBox > button"],newMessageButton:[".oNO81 .S-mcP .EQ1Mr button",".PolarisDesktopDirectPage._aa5c button._abm2"],tabsContainer:[".emXTk > div:first-child",".PolarisDesktopDirectPage > div.PolarisDirectInboxTabbedHeader > div:first-child"],folderTab:[".k8Vux","nav.PolarisDirectInboxTabbedHeader > div"],folderTabGeneral:[".k8Vux:nth-child(2)","nav.PolarisDirectInboxTabbedHeader > div:nth-child(2)"],folderTabsContainer:['.emXTk [style*="60%"]','.PolarisDirectInboxTabbedHeader [style*="60%"]'],requestsDescription:[".tHaIX",".PolarisDirectPendingRequests > div:first-child"],requestsTab:[".jCRms",'.PolarisDirectInboxTabbedHeader [style*="40%"] > span'],requestsTabText:["h5.gtFbE",".PolarisDirectInboxTabbedHeader h5"],requestsTabContainer:['.emXTk [style*="40%"]','.PolarisDirectInboxTabbedHeader [style*="40%"]'],conversationItemWrapSkeleton:['.PolarisDirectInboxList > div > div[data-visualcompletion="loading-state"]'],conversationItem:[".-qQT3",".rOtsg",".PolarisDirectInboxList > div > .PolarisIGCoreBox._ab99 > *:first-child"],conversationUnreadDot:[".Sapc9",'._ab8n[style*="height: 8px"]'],threadListWrap:[".N9abW",".PolarisIGVirtualList.PolarisDirectInboxList"],threadList:[".N9abW > div",".PolarisIGVirtualList.PolarisDirectInboxList > div"],threadListSpinner:[".N9abW .HVWg4",".PolarisIGVirtualList.PolarisDirectInboxList > div > ._ab9h"]},dialog:{root:[".RnEpo",'.BasePortal[style]:not([style*="display: none"]) .createKeyCommandWrapper > .BaseDialog'],background:".BaseCometModal > .BaseCometModal",window:['.RnEpo [role="dialog"]','.createKeyCommandWrapper > .BaseDialog .IGDSDialog[role="dialog"]'],header:[".CpMFL .S-mcP",".PolarisDirectThreadViewHeader > .PolarisGenericDesktopHeader"],searchRow:['.RnEpo [role="dialog"] .TGYkm',".PolarisDirectSearchUserContainer._aag-"],searchRowLabel:['.RnEpo [role="dialog"] .TGYkm .BI4qX',".PolarisDirectSearchUserContainerTokenField > .PolarisIGCoreBox"],submitButton:[".RnEpo button.cB_4K",".PolarisIGCoreModalHeader .PolarisIGCoreButton"],mediaViewerCloseButton:[".RnEpo ._5AwC2",".IGDSDialog .ped7jm3c"]}},igSelectors:{general:{reactRoot:["#react-root",'[id^="mount"]'],root:["#react-root > section","#react-root > div > div > section","section.PolarisBaseShell","section.PolarisRefreshedBaseShell"],rootNewNavDesign:["section.PolarisRefreshedBaseShell"],content:["#react-root > section > *:nth-child(2)","main.PolarisShellContent","main.PolarisRefreshedShellContent"],contentSection:["main.PolarisShellContent > section","main.PolarisRefreshedShellContent > section"],header:["._9ezyW","header.PolarisGenericMobileHeader"],headerContent:[".b5itu","header.PolarisGenericMobileHeader ._ab16"],headerTitle:[".K3Sf1","h1.PolarisGenericMobileHeader"],footer:[".PolarisShellFooter"],main:[".uzKWK",".PolarisBaseShell main.PolarisShellContent._a996",".PolarisRefreshedBaseShell main"],pageLayoutNewNavDesign:[".PolarisPageLayoutHandler"],nextPageLoaderProfile:["._4emnV",".PolarisVirtualPostsGrid._aanh"],nextPageLoaderExplore:['html[data-page="exploreLandingPage"] .Id0Rh','html[data-page="exploreLandingPage"] .PolarisGenericVirtualFeed._aalg'],nextPageLoaderFeed:['html[data-page="feedPage"] .Id0Rh','html[data-page="feedPage"] .PolarisGenericVirtualFeed._aalg'],creationPopup:[".PolarisMobileCreationNavItem ._aa5x",".PolarisMobileCreationNavItem ._ad8j",".PolarisMobileCreationNavItem ._aa5-",".IGDSPopover:has(.PolarisMobileCreationMenuContent)",".PolarisMobileCreationMenuContent"],creationPopupPostButton:['.PolarisMobileCreationNavItem ._aa5x [role="button"]:first-child','.PolarisMobileCreationNavItem ._ad8j [role="button"]:first-child','.PolarisMobileCreationNavItem ._aa5- [role="button"]:first-child','.PolarisMobileCreationMenuContent [role="button"]:first-child'],creationPopupStoryButton:['.PolarisMobileCreationNavItem ._aa5x [role="button"]:last-child','.PolarisMobileCreationNavItem ._ad8j [role="button"]:last-child','.PolarisMobileCreationNavItem ._aa5- [role="button"]:last-child','.PolarisMobileCreationMenuContent [role="button"]:last-child'],tabBar:[".KGiwt",".PolarisNavigation > ._abpb",'.PolarisNavigation[style*="transform"]',".xaeubzz"],tabBarWrap:[".ZoygQ",".IGDSBox > .PolarisNavigation",".createKeyCommandWrapper > .PolarisNavigation"],tabBarContainer:[".IGDSBox > .PolarisNavigation > div",".createKeyCommandWrapper .PolarisNavigation > div[class]"],tabBarTopContainer:[".IGDSBox:has(> .createKeyCommandWrapper)"],tabBarInput:[".ZoygQ input",".PolarisNavigation input.PolarisImageFileForm"],tabBarCreatePostInput:[".PolarisMobileCreationNavItem > form:last-child > input"],tabBarButton:['.PolarisNavigation[style*="transform"] > div',".xaeubzz > div"],tabBarCreatePostButton:["._0TPg",".BvyAW > div:nth-child(3)",'[data-testid="new-post-button"]',".PolarisMobileNavLoggedIn._abp8",".PolarisMobileNavLoggedIn > div:nth-child(3)",'.PolarisNavigation[style*="transform"] > div:nth-child(3)',".xaeubzz > div:nth-child(3)"],tabBarCreatePostButtonLink:['[data-testid="new-post-button"] a',".PolarisMobileNavLoggedIn._abp8 a",".PolarisMobileNavLoggedIn > div:nth-child(3) a",'.PolarisNavigation[style*="transform"] > div:nth-child(3) a',".xaeubzz > div:nth-child(3) a"],tabBarCreatePostIconOldNavDesign:[".PolarisMobileNavLoggedIn > svg"],tabBarAvatarContainer:[".PolarisMobileNavLoggedInButton span.PolarisUserAvatar"],storyTrayViewerAvatarContainer:[".PolarisStoryTray .PolarisStoryTray._aauk:first-child span.PolarisUserAvatar"],tabBarLink:[".PolarisMobileNavLoggedIn a",'.PolarisNavigation[style*="transform"] a',".createKeyCommandWrapper .PolarisNavigationItem a"],storyFooter:[".mLi3m","footer.PolarisMobileStoriesFooter","footer.PolarisMobileOwnerStoriesOverlay"],storyQuickReactionsBackground:".x4U7z",storyPreviewContainer:[".zGtbP",".PolarisShellContent ._aac4",".PolarisRefreshedShellContent ._aac4"],settingsRectangle:".BvMHM",recommendationsContainer:[".bq3Mi",".tHaIX",".PolarisSuggestedUserFeedUnit"],modal:[".RnEpo",'.PolarisIGCoreModalBackdrop[role="presentation"]'],modalWindow:['.RnEpo [role="dialog"]','.PolarisIGCoreModalBackdrop[role="presentation"] [role="dialog"]'],modalWindowHashtagContent:['.RnEpo [role="dialog"] ._8zyFd'],bottomNotification:".Z2m7o",createStoryHeaderButton:[".mTGkH",".PLytv","button.PolarisFeedPageMobileHeader"],peersPage:'[data-page="followList"]',peersPageHeader:['[data-page="followList"] .b5itu','[data-page="followList"] .PolarisGenericMobileHeader > ._ab16'],peersModalHeader:".HYpXt .eiUFA",storiesBar:[".qf6s4",".PolarisIGVirtualList.PolarisStoryTray"],storiesBarLoadingPanel:[".PolarisFeedLoadingSpinner._ab6o",".PolarisFeedPage ._ab6o"],blueLinkButton:".UP43G",actionSheet:[".xkuux",".PolarisIGCoreModalBackdrop > ._ac7o"],useAppGradientBar:[".xZ2Xk",".PolarisMobileNav + section._aa9n"],actionDialog:[".mt3GC",".IGCoreDialog._a9-z"],actionDialogItem:[".mt3GC .aOOlW",".IGCoreDialog._a9--"],actionDialogWithoutHeader:[".mt3GC:first-child",".IGCoreDialog._a9-z:first-child"],iconButton:[".wpO6b","._abl-"],planeIcon:'[points*="11.698 20.334 22 3.001"]',post:"article[data-post-id]",postThreeDotsButton:[".MEAGs button",".PolarisPostOptionsButtonPicker button"],postVideoContainer:["._5wCQW",".PolarisDeclarativeVideo._ab1c"],publishingBarText:[".o5gub span",".PolarisUploadProgressBar._aaug"],uploadPanel:[".TExId",".PolarisUploadProgressBar._aauh"],uploadPanelText:[".PolarisUploadProgressBar._aaug"],uploadPanelVideoIcon:".TExId .cRc_w",expandVideoButton:"._7zNgw",continueWatchingOverlay:".oNYBg",cookieModalContent:".RnEpo ._74vy-",carouselNavButton:".PolarisSidecar .PolarisHSnapScroll > button",blueButton:"button._acas:not(._acao)",toastMessage:[".PolarisToastWrapper._a999"],postCaption:[".PolarisPostPreviewCommentsPicker ._ab9o > span:last-child > span:first-child"],postCaptionLink:[".PolarisPostPreviewCommentsPicker ._ab9o > span:last-child > span:first-child a"],exceptionDialogOkButton:['.CometExceptionDialog .PressableText[role="button"]'],errorPageContent:["._a3gq ._ab8q"],dialogRoot:[".BasePortal > .BaseView"],postPhotoOverlay:[".PolarisPhoto._aagw"],tryMbsSection:[".PolarisQPBloksRenderer._a9_9"],splashScreen:["body > #splash-screen"]},dragPanel:{root:[".RnEpo.xpORG._9Mt7n",".PolarisIGCoreModalBackdrop > ._ac7o"],handle:[".BHY8D",".PolarisIGCoreSheet._ac7m"],igIcon:".glyphsSpriteApp_Icon_36.u-__7",sendEmailLink:['.-qQT3[href^="mailto:"]','._abm4[href^="mailto:"]','._abm4 [href^="mailto:"]','a.Pressable[target="_top"][href^="mailto:"]'],shareMenuItem:[".RnEpo.xpORG._9Mt7n .-qQT3",".PolarisIGCoreModalBackdrop > ._ac7o ._abm4",".PolarisIGCoreModalBackdrop a.Pressable"]},authScreen:{loginContainer:".rxwpz",loginContainerParagraph:".rxwpz p",loginFormParagraph:".HmktE p",avatar:".rxwpz img",username:['html[data-page="unifiedHome"] .l9hKg','html[data-page="loginPage"] .l9hKg'],footer:['html[data-page="unifiedHome"] footer','html[data-page="loginPage"] footer'],fromFacebookBar:['html[data-page="unifiedHome"] .O1flK','html[data-page="loginPage"] .O1flK']},storyViewer:{root:[".PolarisMobileOwnerStories.PolarisStoriesReel",".PolarisMobileStoriesPage > .PolarisMobileStories","section.PolarisBaseShell > .PolarisMobileStories"],videoPlayer:['.PolarisStoryVideoPlayerWrapper > div[style*="top: 0"]'],avatar:[".PolarisMobileOwnerStories img.PolarisUserAvatar",".PolarisMobileOwnerStoriesOverlay img.PolarisUserAvatar"],time:["time.PwV9z","time.PolarisStoriesHeaderOwner"],pollContainer:".tj63N",pollButtons:".tj63N",pollAnswerDigitOrEmoji:".KUQv0",closeButton:[".kj03O .afkep",".PolarisMobileOwnerStoriesOverlay button:last-child"],prevButton:[".r2nYK",".PolarisMobileStoryEventZone > button:nth-child(2)"],nextButton:["._4sLyX",".PolarisMobileStoryEventZone > button:nth-child(3)"],videoPoster:"img.PolarisStoryVideo",mediaContainer:".PolarisStoryMediaLayout._aa64",image:".PolarisStoryImage img.PolarisStoryImage",video:["video.PolarisStoryVideo",".PolarisMobileStoryViewer video"],viewAsAvatar:[".PolarisStoryMediaLayout img.PolarisUserAvatar"]},storyCreation:{root:["._650Zr",".PolarisStoryCreationPage",'body[data-page="StoryCreationPage"] section.PolarisBaseShell'],canvas:[".PolarisStoryCreationPage canvas",'body[data-page="StoryCreationPage"] canvas'],headerButton:[".PolarisStoryCreationPage header button",'body[data-page="StoryCreationPage"] header button'],textInput:["[contenteditable]",".PolarisStoryCreationTextInput[contenteditable]"],topRightButtonsContainer:[".o4NXM",".PolarisStoryCreationPage header > div.PolarisStoryImageCreationContainer",'body[data-page="StoryCreationPage"] header > div.PolarisStoryImageCreationContainer'],topRightButton:[".o4NXM button",".PolarisStoryCreationPage header > div button",'body[data-page="StoryCreationPage"] header > div button'],downloadButton:['[class*="storiesSpriteDownload"]',".PolarisStoryCreationPage header > div button:nth-child(1)",'body[data-page="StoryCreationPage"] header > div button:nth-child(1)'],mentionBarContainer:[".uPlSl",".PolarisTypeahead.PolarisStoryCreationTextInput"],mentionBar:[".imGmP",".PolarisTypeahead.PolarisStoryCreationTextInput > div"],mentionReel:[".imGmP > div",".PolarisTypeahead.PolarisStoryCreationTextInput > div > div"],mentionReelRow:[".imGmP > div > div",".PolarisTypeahead.PolarisStoryCreationTextInput > div > div > div"],mentionReelItem:["#touch_mention.qOsKV","#touch_mention.PolarisStoryTypeaheadResultsList._acn7"],mentionReelItemName:["#touch_mention.qOsKV .KMpYj","#touch_mention.PolarisStoryTypeaheadResultsList ._acn9"],mentionReelItemAvatar:["#touch_mention.PolarisStoryTypeaheadResultsList img.PolarisStoryTypeaheadResultsList"],videoHeader:["._9o3e0","header.PolarisStoryVideoCreationContainer"],photoControls:[".PolarisStoryImageCreationContainer._aa3f","header.PolarisStoryImageCreationContainer > div:last-child"],videoWrap:["header.PolarisStoryVideoCreationContainer + .PolarisStoryVideoCreationContainer"],video:[".JHXak","video.PolarisStoryVideoCreationContainer"],videoPoster:[".pSeby","video.PolarisStoryVideoCreationContainer + img"],footer:[".GRPvx ~ footer","footer.PolarisStoryCreationShareFooter"],videoPlayButton:[".JHXak ~ .videoSpritePlayButton","div.PolarisStoryVideoCreationContainer > span"],videoCreationExitButton:["header.PolarisStoryVideoCreationContainer > button.PolarisIGCoreIconButton"],submitButton:[".PolarisStoryCreationShareFooter > button"],submitButtonText:[".PolarisStoryCreationShareFooter > button .PolarisStoryCreationShareFooter"],uploadHeader:[".PolarisStoryCreationPage .PolarisSharingProgressModal header",'body[data-page="StoryCreationPage"] .PolarisSharingProgressModal header'],uploadBar:[".PolarisStoryCreationPage .PolarisSharingProgressModal header > div",'body[data-page="StoryCreationPage"] .PolarisSharingProgressModal header > div'],uploadText:[".PolarisStoryCreationPage .PolarisSharingProgressModal header h1",'body[data-page="StoryCreationPage"] .PolarisSharingProgressModal header h1'],textColorPicker:[".PolarisStoryCreationColorPicker.PolarisStoryCreationTextInput"],drawColorPicker:[".PolarisStoryCreationDrawColorPicker.PolarisStoryCreationDrawing"],colorPickerSelectedCircle:["button.PolarisStoryCreationColorPicker > ._aa87","button.PolarisStoryCreationDrawColorPicker > ._aa82"]},explorePage:{nav:['html[data-page="exploreLandingPage"] nav.PolarisShellMobileHeader'],header:"header.PolarisExploreMobileHeader",searchInputPlaceholder:[".PolarisDynamicExplorePageContentWrapper input.PolarisIGCoreSearchInput::placeholder"],searchContainer:[".PolarisDynamicExplorePageContentWrapper > .PolarisIGCoreBox"],search:[".PolarisDynamicExplorePageContentWrapper > .PolarisIGCoreBox > .PolarisIGCoreBox:first-child"],main:["main > .PolarisDynamicExplorePageContentWrapper"],content:[".mJ2Qv",".PolarisDynamicExplorePageSharedContent",".PolarisDynamicExplorePageContentWrapper"],contentInner:[".K6yM_",".PolarisDynamicExplorePageSharedContent > *",".PolarisDynamicExplorePageContentWrapper > *"],post:[".pKKVh",".PolarisDynamicExploreSectionalItem"],searchResults:[".gJlPN",".PolarisDynamicExplorePageSharedContent > .PolarisSearchResultsList",".PolarisDynamicExplorePageContentWrapper > .PolarisSearchResultsList"]},profilePage:{content:[".v9tJq","main.PolarisShellContent > .PolarisProfilePage","main.PolarisRefreshedShellContent > .PolarisProfilePage"],header:[".zw3Ow",".PolarisProfilePage header"],username:[".KV-D4","section.PolarisProfilePageHeader h2.PolarisIGCoreText"],avatarWithStoryWrap:[".RR-M-.h5uC0",".PolarisProfilePageHeader div.PolarisUserAvatarWithStories"],avatarStoryRing:['html[data-page="profilePage"] .RR-M-.h5uC0 canvas',".PolarisProfilePageHeader canvas.PolarisStoryRing"],followButton:[".nZSzR .y3zKF.sqdOP",".XBGH5 ._4EzTm .soMvl:last-child",'[data-page="profilePage"] .PolarisFollowButton button'],toggleSuggestionsButton:[".PolarisFollowButton > .PolarisDropdownButton:last-child"],writeButton:[".JI_ht.vwCYk",'html[data-page="profilePage"] .i0EQd',".PolarisProfilePageHeader ._ab9s"],subscribeButtonWrap:[".vBF20"],blueButtonsWrap:[".nZSzR .vwCYk"],buttonsRow:[".Y2E37 > div:first-child"],settingsMenuWrap:["._7XkEo",".PolarisNavigationalHeader + ._ac8b"],settingsMenu:["._7XkEo > div",".PolarisNavigationalHeader + ._ac8b > div"],postRow:[".v9tJq .weEfm",".PolarisProfileMediaBrowser .PolarisIGVirtualGrid",".PolarisProfileTabChannel .PolarisIGVirtualGrid"],postContainer:[".v9tJq ._bz0w",".PolarisProfileMediaBrowser .PolarisPostsGridItem",".PolarisProfileTabChannel .PolarisVirtualPostsGrid"],post:['.v9tJq ._bz0w a[href^="/p/"]','.PolarisProfileMediaBrowser .PolarisPostsGridItem > a[href^="/p/"]'],reelRow:[".v9tJq .gmGWn",".v9tJq .Nnq7C",".PolarisProfilePage .PolarisIGVirtualList .PolarisIGVirtualGrid._abq4"],reelContainer:[".v9tJq .k1v61",".v9tJq .b9_1r",".PolarisProfilePage .PolarisClipsGrid","div:has(> .PolarisClipsGridItem)"],reelPreviewStats:[".v9tJq .b9_1r .qn-0x",".PolarisPostsGridItemOverlay._ac2d"],reelIcon:['.PolarisPostsGridItemMediaIndicator path[d*="m12.823 1 2.974"]'],moreButton:[".VMs3J","section.PolarisProfilePageHeader > .PolarisProfilePageHeader > div.PolarisProfilePageHeader"],tab:["._9VEo1",".PolarisProfilePage .PolarisTabbedContent > .PressableText"],activeTab:['.PolarisProfilePage .PolarisTabbedContent > .PressableText[aria-selected="true"]'],openMbsButton:['div:has(> a[href*="https://business.facebook.com/business/loginpage/"])','div:has(> a[href*="instagram.com/?u=https%3A%2F%2Fbusiness.facebook.com"])'],postVideoIcon:[".CzVzU svg"],postVideoOverlay:[".qn-0x"],followersFollowingsLink:".Y8-fY a"},profilePageFeedTab:{postFooter:["article.PolarisPost ._ae3w"],addCommentSection:["article.PolarisPost ._ae3w section.PolarisPostCommentInput"],addCommentTypeahead:["article.PolarisPost ._ae3w .PolarisTypeahead"]},postPage:{postHeader:[".PolarisPostPage ._aasi",".PolarisPostPage article > div > div:first-child"],postFooter:[".PolarisPostPage ._aast",".PolarisPostPage article > div > div:last-child > div"]},commentsPage:{body:'html[data-page="mobileAllCommentsPage"] .CometMainContentWrapper',footer:'html[data-page="mobileAllCommentsPage"] nav.PolarisNavWrapper',scrollContainer:[".XQXOT",".PolarisThreadedComments > ul"],showMoreButton:["li > div > .wpO6b",".PolarisThreadedComments > ul > li:last-child"],lastListItem:".PolarisThreadedComments > ul > *:last-child",comment:[".C4VMK",".PolarisPostComment._a9zr"]},feedPage:{body:[".Wamc7","section > ._aam1"],postsContainer:[".IGDSBox > .PolarisFeedPage"],followSuggestions:[".bq3Mi",".PolarisSuggestedUserFeedUnit"],post:["article._8Rm4L","article.PolarisPost","article.PolarisPostFunctional"],postLocationRow:[".M30cS",".PolarisPostHeader._aaql"],postHashtagLocation:".M30cS > div:not(:empty) + .JF9hh",postHeader:[".UE9AK",".PolarisIGCoreBox > ._aaqw"],postHeaderBeforePseudo:[".UE9AK::before",".PolarisIGCoreBox > ._aaqw::before"],postHeaderItem:".UE9AK > *",postBody:["article.PolarisPost ._aatk","article.PolarisPost ._ab12"],postFooterWrap1:["article._8Rm4L ._97aPb + div","._aatk + .PolarisIGCoreBox","._ab12 + .PolarisIGCoreBox"],postFooterWrap2:["article._8Rm4L .cv3IO","._aatk + .PolarisIGCoreBox > ._aast","._ab12 + .PolarisIGCoreBox > div","._aatk + .PolarisIGCoreBox > div"],postFooter:[".eo2As","._aatk + .PolarisIGCoreBox > ._aast > ._aasx","._ab12 + .PolarisIGCoreBox > div > div","._aatk + .PolarisIGCoreBox > div > div"],postActions:[".Slqrh",".PolarisPostFeedbackControls._aamu"],postAfterActions:[".PolarisPostFeedbackControls._aamu ~ *"],postThreeDotsButtonWrap:[".PolarisPostOptionsButtonPicker"],postThreeDotsButton:[".MEAGs",".PolarisPostOptionsButtonPicker > button"],postAction:[".Slqrh > *",".PolarisPostFeedbackControls._aamu > *"],postActionIconDefault:[".rrUvL",".PolarisPostFeedbackControls button._abl- > div:last-child"],postActionIconHovered:[".B58H7",".PolarisPostFeedbackControls button._abl- .PolarisIGCoreSVGIconButton"],postUnderActionsContent:[".eo2As > *:not(.Slqrh)","._aasx > *:not(.PolarisPostFeedbackControls)"],postPhoto:[".KL4Bh img","article.PolarisPost .PolarisPhoto img","article.PolarisPostFunctional .PolarisPhoto img"],postVideo:["article._8Rm4L video","article.PolarisPost .PolarisVideo video","article.PolarisPostFunctional .PolarisVideo video"],postMediaContainer:["._97aPb",".PolarisPhoto._aagu"],postPhotoContainer:["._9AhH0",".PolarisPost .PolarisPost.PolarisPhoto",".PolarisPost .PolarisPost.PolarisPhotoWithIndicator",".PolarisPostFunctional .PolarisPostFunctional.PolarisPhoto",".PolarisPostFunctional .PolarisPostFunctional.PolarisPhotoWithIndicator"],postVideoContainer:[".GRtmf",".PolarisPost .PolarisMedia.PolarisVideo",".PolarisPostFunctional .PolarisMedia.PolarisVideo",'[data-media-actions-post-type="igtv"] > .PolarisIGCoreBox'],postCarouselContainer:[".rQDP3",".PolarisSidecar._aamn"],carouselDots:[".ijCUd",".PolarisStepIndicator"],carouselDot:[".Yi5aA",".PolarisStepIndicator ._acnb"]},postCreation:{body:['[data-page="CreationDetailsPage"] .PolarisCreationShell','[data-page="CreationDetailsPage"] .PolarisBaseShell'],nextButton:['[data-page="CreationStylePage"] .UP43G','[data-page="CreationStylePage"] .PolarisNavigationalHeader ._ab5p'],closeButton:[".PolarisCreationShell .PolarisGenericMobileHeader._ab19 button.PolarisNavigationalHeader"],captionContainer:[".IpSxo",".PolarisCreationDetailsPage._abru"],captionTextarea:[".IpSxo textarea","textarea.PolarisCreationCaptionInput",".PolarisCreationCaptionInput textarea"],userAvatar:[".IpSxo .GsWMc",".IpSxo ._2dbep",".PolarisUserAvatar.PolarisCreationDetailsPage"],imageContainer:[".N7f6u",".PolarisCreationCroppingUnit._abqh"],videoContainer:[".YMoW3",".PolarisCreationStyleVideoUnit._abe_"],video:[".YMoW3 video",".PolarisCreationStyleVideoUnit._abe_ video"],videoPoster:[".YMoW3 img",".PolarisCreationStyleVideoUnit._abe_ img"],videoPlayButton:['.PolarisCreationStyleVideoUnit._abe_ span._abf6[role="button"]'],filtersReel:[".PDNx9",".PolarisIGVirtualList.PolarisCreationFilteringUnit"],submitPostButton:[".hfWwk .UP43G",'[data-page="CreationDetailsPage"] ._ab5p'],rowButton:["._2OfRz",".PolarisCreationDetailsPage._abrf"],previewContainer:['html[data-page="CreationDetailsPage"] .g5kp1',".PolarisCreationDetailsPage ._aau7"],previewPostTypeIcon:[".cRc_w",".PolarisCreationDetailsPage .PolarisMediaPreviewThumbnail svg"],previewPostImage:[".IpSxo .FuaTR","img.PolarisMediaPreviewThumbnail"],expandImageButton:[".pHnkA",".PolarisCroppableImage._abfb"],mentionsOverlay:[".cDEf6",".PolarisCreationCaptionInput._aby4"],tagPeopleButton:[".DG8Ws","button.PolarisCreationTagVideo._a9z-"]},loginBar:{root:".Xwp_P .KGiwt",content:".Xwp_P .KGiwt .ryLs_",openAppButton:[".Xwp_P .KGiwt button",".PolarisMobileTopNavLoggedOut button._acap"]},activityPage:{headerBottomLine:['html[data-page="ActivityFeedPage"] .PolarisGenericMobileHeader::before'],topListContainer:['html[data-page="ActivityFeedPage"] .PolarisShellContent > .PolarisIGVirtualList > div']},"general_use-application-bar":[".Z_Gl2",".MFkQJ","._acc8"],"post-item":["._97aPb",".PolarisPost div:first-child:last-child:not([class]) > .PolarisPhoto",".PolarisPost div:first-child:last-child:not([class]) > .PolarisPhotoWithIndicator > .PolarisPhoto",".PolarisPost .PolarisMedia.PolarisVideo",".PolarisPost .PolarisSidecar li.PolarisVirtualHSnapScrollComponents",".PolarisPostFunctional .PolarisPostFunctional.PolarisPhoto",".PolarisPostFunctional .PolarisPostFunctional.PolarisPhotoWithIndicator",".PolarisPostFunctional .PolarisMedia.PolarisVideo",".PolarisPostFunctional .PolarisSidecar li.PolarisVirtualHSnapScrollComponents",".PolarisPostVideoPlayerWrapper[style]",".PolarisVideoLegacy"],"post-video":[".GRtmf video",".PolarisPost ._aatk video",".PolarisPostFunctional ._ab12 video"],"post-video-poster":[".GRtmf video + img",".PolarisPost ._aatk video + img",".PolarisPostFunctional ._ab12 video + img"],"post-video-overlay":[".B1JlO .fXIG0",".PolarisVideoPlayButton._aakl",".PolarisVideoPlayButton._aakh",".PolarisPost .VideoPlayerComponentContainer[data-visualcompletion]"],"post-tagged-people-button":[".G_hoz","._a3gq ._a9-6",".PolarisVideo ._a9-6"],"story-container":[".qbCDp",".PolarisMobileOwnerStories._aa2i","section > .PolarisMobileStories"],"story-image":[".qbCDp img","img.PolarisStoryImage"],"story-video":[".qbCDp video","video.PolarisStoryVideo",".PolarisMobileStoryViewer video"],"story-loading-preview":".qbCDp canvas","story-video-play-button":[".qbCDp .videoSpritePlayButton",".PolarisMobileStoryEventZone._9zwu"],"stories-viewer":[".UIujo",".PolarisMobileStoriesPage"],"highlights-container":[".YlNGR",".PolarisProfileStoryHighlightsTray .PolarisHSnapScroll._aap0"],"comments-list-on-comments-page":".XQXOT","profile-page-stat-container":".LH36I","profile-page-stat-item":"._81NM2","profile-page-grid-stretch-element":"._2z6nI article:first-child:empty","profile-send-message-button":".fAR91","header-top-level-button":[".HOQT4",".PolarisGenericMobileHeader._ab18._ab1b"],"your-story-button-text":[".XdXBI",".PolarisOwnStoryTrayItem._aac2"],"comment-form":[".RxpZH",".PolarisPostCommentInput._aaof"],"comment-form-avatar":[".RxpZH ._2dbep",".PolarisPostCommentInput > img.PolarisUserAvatar"],"comment-form-form":[".RxpZH form","form.PolarisPostCommentInput"],"comment-form-textarea":[".RxpZH textarea","textarea.PolarisPostCommentInput"],"comment-form-submit-button":['.RxpZH button[type="submit"]',"form.PolarisPostCommentInput button"],postCreationPage:['html[data-page="CreationStylePage"]'],storyCreationPage:['html[data-page="StoryCreationPage"]'],"new-post_tag-people-image-container":".qJfNm"},ig:{STORY_REELS_ITEM_SEEN:"STORY_REELS_ITEM_SEEN"},fcs:{MIN_MINUTES_FROM_NOW:10,MAX_DAYS_FROM_NOW:74,MediaManagerDispatcher:"MediaManagerDispatcher",MediaManagerInstagramComposerMetaDataActions:"MediaManagerInstagramComposerMetaDataActions",MediaManagerInstagramComposerMetaDataStore:"MediaManagerInstagramComposerMetaDataStore",MediaManagerInstagramComposerRootActions:"MediaManagerInstagramComposerRootActions",MediaManagerInstagramComposerUploadStore:"MediaManagerInstagramComposerUploadStore",DateTime:"DateTime",ImageExifRotation:"ImageExifRotation",TimezoneNamesData:"TimezoneNamesData",CurrentUserInitialData:"CurrentUserInitialData",SWITCH_CROSSPOST_POST_MODE:"SWITCH_CROSSPOST_POST_MODE",SWITCH_POST_MODE:"SWITCH_POST_MODE",postMode:"postMode",postModeDraft:"draft",postModePublish:"publish",postModeSchedule:"schedule",isEditComposer:"isEditComposer",SELECT_CROSSPOST_SCHEDULED_DATE:"SELECT_CROSSPOST_SCHEDULED_DATE",SELECT_SCHEDULED_DATE:"SELECT_SCHEDULED_DATE",scheduledDate:"scheduledDate",SUBMIT_MEDIA_ORDER:"SUBMIT_MEDIA_ORDER",mediaOrderId:"id",prevIndex:"prevIndex",newIndexString:"newIndexString",totalMedia:"totalMedia",postDetailsTrayPost:"post",CONTENT_INSTAGRAM_EDIT_POST:"CONTENT_INSTAGRAM_EDIT_POST",FILES_ADDED:"FILES_ADDED",files:"files",LOAD_TAB_START:"LOAD_TAB_START",LOAD_TAB_FINISHED:"LOAD_TAB_FINISHED",tab:"tab",instagram_content_posts:"instagram_content_posts",SELECT_IG_PROFILES:"SELECT_IG_PROFILES",selectedProfileIDs:"selectedProfileIDs",LOAD_CONTENT_TABLE_FINISHED:"LOAD_CONTENT_TABLE_FINISHED",rows:"rows",CONTENT_TABLE_REFRESH_ROWS_FINISHED:"CONTENT_TABLE_REFRESH_ROWS_FINISHED",rowsByIDs:"rowsByIDs",PUSH_NOTIFICATION:"PUSH_NOTIFICATION",CLOSE_NOTIFICATION:"CLOSE_NOTIFICATION",isSuccess:"isSuccess",notificationData:"notificationData",notificationDataLabel:"label",CLOSE_COMPOSER:"CLOSE_COMPOSER",INSTAGRAM_COMPOSER:"INSTAGRAM_COMPOSER",SHOW_EXIT_COMPOSER_CONFIRM_DIALOG:"SHOW_EXIT_COMPOSER_CONFIRM_DIALOG",UPDATE_CAPTION:"UPDATE_CAPTION",TOGGLE_CROSSPOST_TO_FACEBOOK_CHECKBOX:"TOGGLE_CROSSPOST_TO_FACEBOOK_CHECKBOX",post_type:"post_type",post_status:"post_status",limit:"limit",POST_TYPE_ALL:"ALL",POST_TYPE_PHOTOS:"PHOTOS",POST_TYPE_IG_STORIES:"IG_STORIES",POST_TYPE_CAROUSELS:"CAROUSELS",POST_TYPE_IGTV:"IGTV",POST_TYPE_VIDEOS:"VIDEOS",POST_STATUS_DRAFT:"DRAFT",POST_STATUS_SCHEDULED:"SCHEDULED",POST_STATUS_PUBLISHED:"PUBLISHED",immutable:"immutable",queryIGMediaData:"queryIGMediaData",MediaManagerInstagramContentActions:"MediaManagerInstagramContentActions",MediaManagerLazyLoadActions:"MediaManagerLazyLoadActions",instagram_content_library_posts:"instagram_content_library_posts",REFRESH_TAB:"REFRESH_TAB",SELECT_CONTENT_TABLE:"SELECT_CONTENT_TABLE",SELECT_INSTAGRAM_ACCOUNT:"SELECT_INSTAGRAM_ACCOUNT",SET_CONTENT_LIBRARY_DATA:"SET_CONTENT_LIBRARY_DATA",INSTAGRAM_VIDEO_POSTS:"INSTAGRAM_VIDEO_POSTS",INSTAGRAM_PHOTO_POSTS:"INSTAGRAM_PHOTO_POSTS",INSTAGRAM_CAROUSEL_POSTS:"INSTAGRAM_CAROUSEL_POSTS",INSTAGRAM_IGTV_POSTS:"INSTAGRAM_IGTV_POSTS",IG_FEED_ORGANIC:"IG_FEED_ORGANIC","/media_manager/content_library":"/media_manager/content_library","/media_manager/media_manager_instagram_content":"/media_manager/media_manager_instagram_content","/media/manager/instagram_media/edit/save":"/media/manager/instagram_media/edit/save","/media/manager/instagram_composer/create_post":"/media/manager/instagram_composer/create_post","https://www.facebook.com/confirmemail.php":"https://www.facebook.com/confirmemail.php",'action="/confirm_code/':'action="/confirm_code/',"edit_data[save_as_draft]":"edit_data[save_as_draft]","edit_data[save_as_scheduled]":"edit_data[save_as_scheduled]"},fcsSelectors:{welcome:{getStartedButton:"._7iri button._1qjd._271m._271k",acceptCookieButton:"button[data-cookiebanner]"},whatsNew:{closeButton:'body:not(.bizsitePage) ._9l2g[role="dialog"] [role="button"]'},general:{pandaErrorImage:"._1ldz",cookieBannerTitle:"#cookie_banner_title",fbLoginRequiredContainer:".UIPage_LoggedOut",headerMessageIconContainer:".MediaManagerInstagramComposerHeaderMessage",translationsButton:".fbDockWrapperRight"},sidePanel:{root:"#creator_studio_sliding_tray_root",loadingOverlay:"._8eef",captionScrollContainer:"._5yk1",captionTextarea:"._5yk1 [contenteditable]",locationRoot:"._7yq5",locationInput:"._7yq5 input",mediaPreview:"._5i4g",mediaPreviewContainer:".BackgroundImage",mediaPreviewControls:"._9aiv",mediaPreviewVideo:"._80o3 video",uploadingVideo:"video._ox1",uploadingVideoPlayButton:"video._ox1 ~ i",uploadingVideoCustomControls:"video._ox1 ~ ._27db",coverSelectionRadioBox:"._6epv",goToPostButton:"#creator_studio_sliding_tray_root ._6qig div:nth-child(1)",editPostButton:".MediaManagerInstagramPostDetailsTray > .FlexLayout button",doneButton:"#creator_studio_sliding_tray_root ._6qig div:nth-child(3)",save:"#creator_studio_sliding_tray_root ._85h_ button:not([id]):not(.delete-post-button)",dateDialogTrigger:"#creator_studio_sliding_tray_root ._85h_ button:not([id]):not(.delete-post-button) + * button",editPostTitle:"#creator_studio_sliding_tray_root ._6y1b ._3qn7",editPostBottomRow:"#creator_studio_sliding_tray_root ._85h_",mediaList:"._80o3",body:"._7-i-",bodyContent:["._7-i- > .FlexLayout","._7-i- > ._3qn7"],sidebar:"._7yqd",sidebarTab:'.MediaManagerInstagramComposerBodyTabSections[role="button"]',sidebarTabIcon:'.MediaManagerInstagramComposerBodyTabSections[role="button"] .ImageCore',sidebarTabTitle:'.MediaManagerInstagramComposerBodyTabSections[role="button"] .ImageCore + span',postPreviewCaption:".MediaManagerInstagramPostPreview > p",uploadProgress:"._6eqx",postPerformancePane:".MediaManagerInstagramPostDetailsBody._75fj"},postToFb:{root:"#creator_studio_sliding_tray_root ._3qn7._61-3._2fyh._3qnf",title:'#creator_studio_sliding_tray_root ._3qn7._61-3._2fyh._3qnf [role="heading"]',checkboxRow:"#creator_studio_sliding_tray_root ._3qn7._61-3._2fyh._3qnf ._8ung > div",checkboxButton:"#creator_studio_sliding_tray_root ._3qn7._61-3._2fyh._3qnf ._8ung button",checkboxText:"#creator_studio_sliding_tray_root ._3qn7._61-3._2fyh._3qnf ._8ung > div > div:first-child > div:last-child",body:"#creator_studio_sliding_tray_root ._3qn7._61-3._2fyh._3qnf ._83li",publishTypeButton:'#creator_studio_sliding_tray_root ._3qn7._61-3._2fyh._3qnf button[aria-haspopup="true"]'},tooltip:{root:".uiContextualLayerPositioner",bubbleWrap:".uiContextualLayer",bubble:".uiTooltipX"},upload:{root:"._7_8t",button:"._7_8t button",buttonWrap:"._7_8t ._82ht",addContentButton:'div[aria-haspopup="true"][id^="js_"] button',addContentButtonWrap:'div[aria-haspopup="true"][id^="js_"]',input:'input[accept^="video"]'},confirmDialog:{yes:'[action="confirm"]'},dateDialog:{root:["._53ii ._53ik",'[style*="right: 30px"][style*="z-index: 400"] > div > div'],rootOpen:["._53ii:not(.hidden_elem) ._53ik",'[style*="right: 30px"][style*="z-index: 400"]:not(.hidden_elem) > div > div']}}};var f=document.documentElement,b={},y={},v={},S={},C=1;S={nextValue:function(){return(C=(9301*C+49297)%233280)/233280},seed:function(t){C=t}};var T,w,I,E="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function M(){I=!1}function O(t){if(t){if(t!==T){if(t.length!==E.length)throw new Error("Custom alphabet for shortid must be "+E.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter((function(t,e,o){return e!==o.lastIndexOf(t)}));if(e.length)throw new Error("Custom alphabet for shortid must be "+E.length+" unique characters. These characters were not unique: "+e.join(", "));T=t,M()}}else T!==E&&(T=E,M())}function D(){return I||(I=function(){T||O(E);for(var t,e=T.split(""),o=[],a=S.nextValue();e.length>0;)a=S.nextValue(),t=Math.floor(a*e.length),o.push(e.splice(t,1)[0]);return o.join("")}())}v={get:function(){return T||E},characters:function(t){return O(t),T},seed:function(t){S.seed(t),w!==t&&(M(),w=t)},lookup:function(t){return D()[t]},shuffled:D};var x="object"==typeof window&&(window.crypto||window.msCrypto),A=x&&x.getRandomValues?function(t){return x.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],o=0;o<t;o++)e.push(Math.floor(256*Math.random()));return e},R=function(t,e,o){for(var a=(2<<Math.log(e.length-1)/Math.LN2)-1,n=-~(1.6*a*o/e.length),i="";;)for(var r=t(n),s=n;s--;)if((i+=e[r[s]&a]||"").length===+o)return i};var B,L,k=function(t){for(var e,o=0,a="";!e;)a+=R(A,v.get(),1),e=t<Math.pow(16,o+1),o++;return a};var F=function(t){var e="",o=Math.floor(.001*(Date.now()-1567752802062));return o===L?B++:(B=0,L=o),e+=k(7),e+=k(t),B>0&&(e+=k(B)),e+=k(o)};var N,G=function(t){return!(!t||"string"!=typeof t||t.length<6)&&!new RegExp("[^"+v.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(t)},H=!1;var q=(H||(H=!0,N={},N=0),N||0);function U(){return F(q)}var V=U;(y=U).generate=V;var $=function(t){return v.seed(t),y};y.seed=$;var W=function(t){return q=t,y};y.worker=W;var z=function(t){return void 0!==t&&v.characters(t),v.shuffled()};y.characters=z;var j=G;y.isValid=j,b=y;var K={on:function(t,e){Q();(Y[t]||(Y[t]=[])).push(e)},off:function(t,e){const o=Y[t];if(!o)return;for(;;){const t=o.findIndex((t=>t===e));if(-1===t)break;o.splice(t,1)}},send:function(t,...e){let o;const a=e[e.length-1];"function"==typeof a?(o=a,e=e.slice(0,-1)):o=null;return new Promise((a=>{chrome.runtime.sendMessage({[X]:t,[J]:e},(t=>{chrome.runtime.lastError||(o&&o(t),a(t))}))}))}};const Y={},X="__$chromeBus.name",J="__$chromeBus.args";function Q(){const t=Q;t.init||(t.init=!0,chrome.runtime.onMessage.addListener(((t,e,o)=>{const a=t["__$chromeBus.name"];if(!a)return!1;const n=t["__$chromeBus.args"]||[],i=Y[a]||[];return 0!==i.length&&((async()=>{const t=await Promise.all(i.map((t=>t(...n)))),e=t[t.length-1];o(e)})(),!!o)})))}var Z=K;const tt="__iframeBus.name",et="__iframeBus.args",ot="__iframeBus.callbackId",at="undefined"!=typeof parent&&parent!==window;function nt(t,e){const o=lt(t),a=e["__iframeBus.handlers"]||(e["__iframeBus.handlers"]={});a[t]=async a=>{if(a.data["__iframeBus.name"]===o){const o=a.data["__iframeBus.args"]||[],n=a.data["__iframeBus.callbackId"]||null,i=await e(...o);n&&st(`${t}:response-${n}`,i)}},window.addEventListener("message",a[t])}function it(t,e){nt(t,(function o(...a){return rt(t,o),e(...a)}))}function rt(t,e){const o=e["__iframeBus.handlers"]||(e["__iframeBus.handlers"]={});window.removeEventListener("message",o[t])}async function st(t,...e){let a;const n=e[e.length-1];"function"==typeof n?(a=n,e=e.slice(0,-1)):a=null;const i=t.includes(":response-"),r=lt(t),s=i?null:b.generate();if(at?parent.postMessage({[tt]:r,[et]:e,[ot]:s},"*"):o("iframe").forEach((t=>{t.contentWindow.postMessage({[tt]:r,[et]:e,[ot]:s},"*")})),!i)return new Promise((e=>{const o=n=>{a&&a(n),rt(`${t}:response-${s}`,o),e(n)};nt(`${t}:response-${s}`,o)}))}function lt(t){return`iframe-bus.${t}`}var dt={init:function(){Z.on("iframe-bus",((t,...e)=>st(t,...e))),nt("chrome-bus",((t,...e)=>Z.send(t,...e)))},on:nt,once:it,off:rt,send:st,wait:async function(t){return await new Promise((e=>{it(t,e)}))}},ct=function(){h`
    <style>
      .theme-night .emoji {
        filter: url(#theme-reverse-filter);
      }
      .theme-night .emoji .emoji {
        filter: none;
      }

      .theme-night input,
      .theme-night textarea,
      .theme-night [contenteditable] {
        filter: url(#theme-filter);
        color: #a0a0a0 !important;
        background: transparent !important;
        border-color: rgba(255, 255, 255, 0.3);
      }
      .theme-night input::placeholder,
      .theme-night textarea::placeholder {
        color: rgba(255, 255, 255, 0.33);
      }
    </style>
  `,function(){const t=_.controller.getConfig().fcsSelectors,a=_.controller.getConfig().dmSelectors,n=_.controller.getConfig().igSelectors;c((function t(o){const a=e("body");if(!a)return;c.off(t);new MutationObserver(r).observe(a,{childList:!0,subtree:!0}),r(o)}));let i=!1;function r(r){if(i)return;const s=r.map((t=>Array.from(t.addedNodes))).flat();if(0===s.length)return;const l=window.inssist.theme.emojiRegex,d=(e("body").innerText.match(l)||[]).filter((t=>!"0123456789#*↪".includes(t)));if(0===d.length)return;const c=[],u=Array.from(new Set(d)),p=["input","textarea","[contenteditable]",a.general.emojiPicker,n.general.postCaption,t.sidePanel.postPreviewCaption].map((t=>o(t))).flat();s.forEach((t=>{let e;if(e=t.nodeType===Node.ELEMENT_NODE?t:t.parentElement,!e)return;const o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT);for(;;){const t=o.nextNode();if(!t)break;const e=t.textContent;if(!u.some((t=>e.includes(t))))continue;if(p.some((e=>e.contains(t))))continue;const a=t.parentElement;a.classList.contains("emoji")||(c.includes(a)||c.push(a))}})),requestAnimationFrame((()=>{i=!0,c.forEach((t=>{if(!document.body.contains(t))return;let e=t.innerHTML;u.forEach((t=>{const o=`<span class="emoji">${t}</span>`;e=e.split(o).join("__$%#^__").split(t).join(o).split("__$%#^__").join(o)})),t.innerHTML=e})),i=!1}))}}()};function ut(t){t&&(f.classList.remove("theme-day"),f.classList.remove("theme-night"),f.classList.add(`theme-${t}`))}var pt={init:function(){!async function(){ut(await dt.send("theme.get-theme"))}(),async function(){dt.on("theme.switch-theme",(t=>{ut(t)}))}(),ct()}},gt={user:null,igProfilesData:[],crosspostToFb:!1,selectedPostId:null,allPosts:[]},ht={getCaption:function(){const t=mt();if(!t)return null;let e=t.innerText.split("\n\n").join("\n");"\n"===e&&(e="");return e},setCaption:async function t(o,{force:a=!1}={}){const n=t;if(!a){const t=mt();if(!t)return;if(document.activeElement===t)return}if(n.running)return;n.running=!0;const i=window.inssist.schedule.requireModule;n.EditorState||(n.EditorState=await i("EditorState"));n.ContentState||(n.ContentState=await i("ContentState"));n.MetaDataActions||(n.MetaDataActions=await i("MediaManagerInstagramComposerMetaDataActions"));n.getMentionsInputDecorator||(n.getMentionsInputDecorator=await i("getMentionsInputDecorator"));const r=n.ContentState.createFromText(o),s=n.getMentionsInputDecorator(),l=n.EditorState.createWithContent(r,s);n.MetaDataActions.updateCaption(l),n.running=!1;const d=e(_.controller.getConfig().fcsSelectors.sidePanel.captionScrollContainer);if(!d)return;d.scrollTop=d.scrollHeight}};function mt(){return e(_.controller.getConfig().fcsSelectors.sidePanel.captionTextarea)||null}const Pt=m.createEmitter();var _t={init:function(){const t=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(e,o){const a=this;o=ft(o);let n=0;const i={},r=new URL(o);Array.from(r.searchParams).forEach((([t,e])=>{i[t]=e}));const s=m.createEmitter();a.addEventListener("readystatechange",(()=>{a.readyState===XMLHttpRequest.DONE&&s(a)})),Pt({url:o,query:i,modifyUrl:t=>{n+=1,n>1&&console.warn("`modifyUrl` was called more than once"),o=ft(t)},onResponse:s}),t.call(a,e,o)}},onRequest:Pt.handle};function ft(t){return t.startsWith("http")?t:t.startsWith("/")?`${location.origin}${t}`:(console.error(`invalid url "${t}"`),t)}var bt={createError:function({message:t,details:e={}}){return{message:t,details:e,[yt]:!0}},throwError:function({message:t,details:e={}}){throw vt({message:t,details:e,critical:!0}),new Error(t)},sendError:vt,isKnownError:function(t){return t&&t[yt]},getLightweightPageHtml:St};const yt=Symbol("isScheduleInjectionError");async function vt({message:t,details:e={},critical:o=!1}){let a;try{a=(await fetch("/")).ok}catch(t){a=!1}const n=_.controller.getConfig().fcsSelectors,i=!!m.$(n.general.pandaErrorImage);dt.send("schedule.fcs-error",{message:`schedule injection → ${t}`,critical:o,details:{...e,isNetworkOk:a,isPandaError:i,html:St()}})}function St(){const t=m.$("body > div"),e=document.createElement("div");return e.innerHTML=t.innerHTML.replace(/style="[^"]*"/gi,"").replace(/alt="[^"]*"/gi,""),m.$$('[role="cell"]:nth-child(n + 4)',e).forEach((t=>t.remove())),e.innerHTML}var Ct='<style>\n\n* {\n  outline: none;\n  font-family: montserrat !important;\n}\n\nbody {\n  overflow: hidden;\n}\n\nbody::-webkit-scrollbar {\n  width: 0px;\n}\n\n/* top bar */\n#mediaManagerGlobalChromeBar, /* when connected with fb */\n.uiContextualLayerParent > div > .MediaManagerInstagramRoot > div:first-child /* when connected with ig */ {\n  display: none !important;\n}\n\n/* side panel */\n._6uh1 {\n  top: 0 !important;\n}\n\n/* side panel items under "create post" button */\n._6ug6 {\n  display: none !important;\n}\n\n/* body panel */\n._1l9z {\n  margin-top: 0 !important;\n}\n\n/* user selection dropdown */\n#tabHeader {\n  margin-top: -28px;\n}\n\n'.replace("<style>","");function Tt(t,e){return wt(e)||(e=JSON.stringify(e)),`${encodeURIComponent(t)}=${encodeURIComponent(e)}`}function wt(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t}function It(t,e={}){const o=function(t){return Object.keys(t).map((e=>{const o=t[e];return wt(o)?Tt(e,o):Array.isArray(o)?o.map((t=>Tt(e,t))).join("&"):null})).filter(Boolean).join("&").replace(/%5B/g,"[").replace(/%5D/g,"]")}(e);return o?`${t}?${o}`:t}function Et(t={}){return It("https://business.facebook.com/creatorstudio",{tab:"instagram_content_posts",mode:"instagram",collection_id:"all_pages",content_table:"INSTAGRAM_POSTS",locale:"en_US",...t})}var Mt={init:function(){dt.on("schedule.fcs-get-report",Dt)},set:function(t,e){Ot[t]=e},log:function(t){Ot.log.push(t);const e="string"==typeof t?t:JSON.stringify(t);console.log(`%c[fcs] %c${e}`,"color: #b99610","color: #b99610; font-weight: bold;")}};const Ot={log:[]};function Dt(){return{...Ot,html:bt.getLightweightPageHtml()}}const{$:xt}=m;var At={init:async function(){Mt.log("start"),Rt=_.controller.getConfig().fcsSelectors;try{await async function(){Mt.log("fallback enabled?");const t=await dt.send("schedule.is-fallback-enabled");if(Mt.log(t?"yes":"no"),!t)return;throw m.insertMultistyle`
    <style>
      ${Ct}
    </style>
  `,Lt}(),await async function(){location.href.includes("inssist-switch-to-fcs")&&(location.href=Et());if(!location.href.includes("/latest/"))return;await dt.send("chrome-bus","fb-api.switch-to-fcs"),location.href=Et({"inssist-switch-to-fcs":!0})}();const{someUserConnected:t}=await async function(){await m.waitForDocumentReady();const t=document.documentElement.innerHTML,e=t.toLowerCase();if(!location.href.includes("business.facebook.com/creatorstudio")||!(e.includes("bizsitepage")||e.includes("uicontextuallayerparent")||e.includes("emojiconfig")))return Mt.log("is user connected?"),Mt.log("no (not logged in)"),gt.user=null,{someUserConnected:!0};Mt.log("waiting for ig profiles data...");const o=t.split("<body")[1].split("requireLazy")[0];Mt.log(o);const a=window.inssist.schedule.requireModule,n=await a("MediaManagerInstagramProfilesDataStore",30*m.time.SECOND);if(!n){let t;const e=bt.getLightweightPageHtml();throw t=e.includes("/checkpoint/")?"account locked":e.includes("/confirm_code/")?"fb code is required":'<div class="_3b5k" id="bizsitePageContainer"><div class="_6nx4"></div><div id="globalContainer" class="uiContextualLayerParent"><div id="u_0_1"></div></div></div>'===e?"empty html":e.includes('role="progressbar"')?"spinner":"unknown",bt.createError({message:`Unable to require MediaManagerInstagramProfilesDataStore within 30 seconds (${t})`})}Mt.log("ig profiles data received"),Mt.log("is user connected?");if(!await m.waitFor((()=>{const t=n.getState().toJS();return!!(t&&t[0]&&t[0].value)})))throw bt.createError({message:"MediaManagerInstagramProfilesDataStore loading takes too long"});let i=null;const r=n.getState().toJS()[0].value;if(r.length>0){const t=await dt.send("schedule.get-ig-username");i=r.find((e=>e.username===t))||null}return gt.user=i,Mt.log(i?"yes":"no"),{someUserConnected:!0}}();!function(){const t=()=>{const t=xt(Rt.welcome.acceptCookieButton);if(t&&document.body.innerHTML.includes('"_js_datr"')){const e=document.body.innerHTML.split('"_js_datr"')[1].split('"')[1].split('"')[0];document.cookie=`_js_datr=${e}; SameSite=None; Secure`,t.click(),location.reload()}if(!!xt(Rt.general.cookieBannerTitle))return;const e=xt(Rt.welcome.getStartedButton);e&&(e.click(),location.reload());const o=xt(Rt.whatsNew.closeButton);o&&(o.click(),location.reload())};m.onDocMutations(t),setTimeout((()=>{m.onDocMutations.off(t)}),30*m.time.SECOND)}();const e=!!gt.user;await dt.send("schedule.fcs-connection-status",e,{someUserConnected:t})}catch(t){t===Lt||(bt.isKnownError(t)?bt.sendError({message:t.message,details:t.details,critical:!0}):bt.sendError({message:"startup controller init: unknown error",details:{details:t},critical:!0}))}Mt.log("end"),Bt.resolve()},waitForInit:async function(){return Bt}};let Rt;const Bt=m.createResolvablePromise(),Lt=new Error("fallback enabled");let kt;var Ft=kt={init:async function(){await At.waitForInit();try{const t=await async function(){const t=_.controller.getConfig().fcs,e=await m.waitFor((()=>window.requireLazy));if(!e)throw bt.createError({message:"initDispatcher: failed to get window.require"});const o=await new Promise((o=>{const a=setTimeout((()=>{o(null)}),15e3);e([t.MediaManagerDispatcher],(t=>{clearTimeout(a),o(t)}))}));if(!o)return null;const a=[],n=o.dispatch;return o.dispatch=(...t)=>{if(t[0])for(const e of a)e(t[0]);return n.call(o,...t)},{dispatch:o.dispatch,onDispatch:t=>{a.push(t)}}}();t&&(kt.dispatch=t.dispatch,kt.onDispatch=t.onDispatch)}catch(t){bt.isKnownError(t)?bt.sendError({message:t.message,details:t.details,critical:!0}):bt.sendError({message:"dispatch controller init: unknown error",details:{jsError:t},critical:!0})}Nt.resolve()},waitForInit:async function(){return Nt},main:{},composer:{}};const Nt=m.createResolvablePromise();var Gt='<style>\n\n* {\n  outline: none;\n}\n\n\n/* user selection option when creating new post */\n._7pqd {\n  opacity: 0;\n}\n\n\n/* page content */\n._1x52,\n#globalContainer {\n  visibility: hidden;\n}\n\n\n/* modal window */\n._59s7 {\n  max-width: calc(100% - 80px) !important;\n}\n\n\n/* edit post left panel */\n._7-i- {\n  padding-top: 0 !important;\n}\n\n\n/* hide content */\n._6uh1 ~ div {\n  visibility: hidden !important;\n}\n\n\n/* notification (e.g. "post saved") */\n._72sn {\n  display: none;\n}\n\n\n/* disable side panel animation */\n._92zt {\n  animation-duration: 0s !important;\n}\n\n\n/* extend table height */\n._rz-,\n.uiScrollableAreaContent > div {\n  height: 4500px !important; }\n\n\n/* disable active panel animation */\n#creator_studio_sliding_tray_root ._6lsf {\n  right: 0 !important; }\n\n\n/* uploading progress */\n._6eqo {\n  cursor: default !important;\n}\n\n/* uploading progress chevron icon */\n._6eqo i:last-child {\n  display: none;\n}\n\n\n/* noinspection CssNoGenericFontName */\n* { font-family: montserrat !important; }\n:root { --geodesic-type-font-family: montserrat !important; }\n:root { --geodesic-type-size-value-font-family: montserrat !important; }\nbody { overflow-x: hidden; }\nbody::-webkit-scrollbar { width: 0px; }\n\n\n/* ! posts panel container */\n#globalContainer > div:nth-child(1) > div:nth-child(1) > div:nth-child(2) > div:nth-child(1) > div:nth-child(2),\ndiv._1l9z {\n  margin: 0 !important; z-index: 100; }\n\n\n/*START*/\n/* left navigation panel and\n   top panel header with fb and ig tabs.\n   these are optional if posts container z-index is 100 */\n#mediaManagerGlobalChromeBar,\n._6uh1, /* header with fb and ig tabs */\n.p7k9k0yn.i6vn8ron /* header when authorized with new method */ {\n  display: none !important; }\n\n\n/* post status, time selector and search */\n#mediaManagerFilterAndSearch {\n  display: none; }\n\n\n/* table header with account selector and title */\n#instagramTabHeader {\n  visibility: hidden;\n  position: fixed;\n  left: -100000px; }\n\n\n/* media type tabs */\ndiv._450w {\n  display: none; }\n\n\n/* posts panel content */\ndiv._3wpv {\n  padding: 0px 8px !important; }\n\n\n/* prevent column clipping */\n#mediaManagerContentTable, div._6ynv {\n  min-width: 1070px !important; }\n\n\n/* --- */\n\n\n/* ! posts panel container,\n  only enable this if in post view mode to hide the table underneath */\n/* #globalContainer > div:nth-child(1) > div:nth-child(1) > div:nth-child(2) > div:nth-child(1) > div:nth-child(2), div._1l9z {\n     visibility: hidden !important; } */\n\n\n/* ! post details pop-over */\n#creator_studio_sliding_tray_root > div, div._6lsf {\n  max-width: 100% !important;\n  width: 100% !important; }\n\n\n/* pop-over header */\n#creator_studio_sliding_tray_root > div > div > div:nth-child(1) {\n  display: none !important; }\n\n\n/* pop-over frame and performance container */\n#creator_studio_sliding_tray_root > div > div > div:nth-child(2) {\n  overflow: auto !important; }\n\n\n/* pop-over post frame (left sub-panel) */\n#creator_studio_sliding_tray_root > div > div > div:nth-child(2) > div:nth-child(1), div._759f {\n  width: initial !important;\n  min-width: 500px !important;\n  overflow-x: hidden !important;\n  overflow-y: auto !important;\n  padding-left: 24px !important;\n  justify-content: flex-start !important;\n  display: flex !important;\n  flex-direction: column !important;\n  background-color: white !important; }\n#creator_studio_sliding_tray_root > div > div > div:nth-child(2) > div:nth-child(1) > div, div._75fk {\n  box-shadow: none !important;\n  border-radius: 0 !important;\n  background-color: transparent !important;\n  border: none !important; }\n#creator_studio_sliding_tray_root > div > div > div:nth-child(2) > div:nth-child(1) > div > div._3qn7._61-3._2fyi._3qng > span {\n  display: none !important }\n#creator_studio_sliding_tray_root div._74_-._75fl {\n  margin-left: 0 !important; }\n#creator_studio_sliding_tray_root div._75fm {\n  padding-left: 0 !important; }\n#creator_studio_sliding_tray_root > div > div > div:nth-child(2) > div:nth-child(1) > div > div._8525 {\n  max-width: 500px !important }\n\n\n/* pop-over post performance (right sub-panel) */\n#creator_studio_sliding_tray_root > div > div > div:nth-child(2) > div:nth-child(2), div._759g {\n  min-width: 300px;\n  border: none !important;\n  background-color: white !important;\n  min-height: unset !important; }\n\n\n/* pop-over post performance title */\n#creator_studio_sliding_tray_root > div > div > div:nth-child(2) > div:nth-child(2) > div:nth-child(1), div._759g > div:nth-child(1) {\n  border-top: none !important;\n  border-bottom: none !important; }\n\n\n/* pop-over post performance content */\n#creator_studio_sliding_tray_root > div > div > div:nth-child(2) > div:nth-child(2) > div:nth-child(2), div._759g > div:nth-child(2) {\n  border-top: none !important;\n  border-bottom: none !important;\n  margin-top: 0 !important; }\n\n\n/* pop-over post performance tray */\n#creator_studio_sliding_tray_root ._6qig {\n  height: 76px !important;\n  box-sizing: border-box;\n  padding: 0 24px !important; }\n/* #creator_studio_sliding_tray_root > div > div > div:nth-child(3) > button:nth-child(1), div._6qig > button:nth-child(1) {\n     margin-left: 16px !important; } */\n\n\n/* tray buttons */\ndiv.uiOverlayFooter a[action=\'cancel\'],\ndiv.uiOverlayFooter button[action=\'confirm\'],\n#creator_studio_sliding_tray_root button[type="button"] {\n  cursor: pointer !important;\n  font-weight: 600 !important;\n  /* Please make sure to apply a special xpath attribute rule for disabled buttons.\n     Facebook disables some buttons such GO TO POST button on an archived story.\n     Such buttons are styled inline and have a special style \'color: rgb(190, 195, 201)\'.\n     Clicking these buttons does nothing, so an attribute based xpath expression should\n     watch and hide them all-together. */\n  /* color: white !important;\n     background-color: #1BA2F9 !important; */\n  border: none !important;\n  font-size: 16px !important;\n  border-radius: 4px;\n  text-transform: uppercase !important;\n  margin-left: 8px;\n  margin-right: 8px;\n  color: white !important;\n  background-color: #1BA2F9 !important;\n  transition: 300ms cubic-bezier(0.23, 1, 0.32, 1) 0s; }\ndiv.uiOverlayFooter a[action=\'cancel\'][style*="background-color: rgb(176, 213, 255)"],\ndiv.uiOverlayFooter button[action=\'confirm\'][style*="background-color: rgb(176, 213, 255)"],\n#creator_studio_sliding_tray_root button[type="button"][style*="background-color: rgb(176, 213, 255)"] {\n  opacity: 0.5 !important;\n  pointer-events: none;\n}\n\n#creator_studio_sliding_tray_root button[type="button"]:hover {\n  filter: brightness(95%); }\n#creator_studio_sliding_tray_root button[type="button"]:active {\n  filter: brightness(90%); }\n\n\n/* --- */\n\n\n/* post cover image title */\ndiv._7-i2 > span {\n  display: none !important; }\ndiv._7-i2 > div {\n  margin-top: 0 !important; }\n\n\n/* post caption input */\ndiv._7-2a._5yk1 {\n  overflow: auto !important; }\n\n\n/* --- */\n\n\n/* add content mini popup */\ndiv.uiContextualLayer.uiContextualLayerBelowLeft > div > div > div > div {\n  padding-bottom: 12px !important; }\ndiv.uiContextualLayer.uiContextualLayerBelowLeft > div > div > div > a {\n  display: none !important; }\n\n'.replace("<style>",""),Ht={init:async function(){qt=_.controller.getConfig().fcsSelectors,await Ft.waitForInit(),m.onDocMutations((()=>{gt.selectedPostId&&m.$(qt.sidePanel.captionTextarea)&&setTimeout((()=>{const t=ht.getCaption();Ut[gt.selectedPostId]=t}))})),dt.on("schedule.set-caption",Vt)},restoreCaptionForCurrentPost:async function(){if(!gt.selectedPostId)return;const t=Ut[gt.selectedPostId];if(t)return void Vt(t);const e=await dt.send("schedule.get-post",gt.selectedPostId);"local"===e.source&&e.caption&&Vt(e.caption)}};let qt;const Ut={};function Vt(t,{force:e=!1}={}){"string"==typeof t&&ht.setCaption(t,{force:e})}const{$:$t,$$:Wt}=m;var zt={init:async function(){if(jt=_.controller.getConfig().fcsSelectors,Kt=_.controller.getConfig().fcs,ne(),ie(),dt.on("schedule.fcs-go-to",Yt),dt.on("schedule.fcs-open-post",Xt),dt.on("schedule.fcs-open-new-post-form",Jt),dt.on("schedule.fcs-refresh-data",ae),dt.on("schedule.fcs-refresh-page",Qt),dt.on("schedule.fcs-check-critical-vars",Zt),dt.on("schedule.fcs-wait-upload",te),dt.on("schedule.fcs-submit-composer",ee),await At.waitForInit(),await Ft.waitForInit(),!gt.user)return;await async function(){if(await dt.send("schedule.is-debug-enabled"))return;m.insertMultistyle`
    <style>
      ${Gt}

      ${jt.sidePanel.mediaPreviewControls} {
        height: auto !important;
      }

      ${jt.sidePanel.save} {
        max-width: none;
      }

      ${jt.sidePanel.loadingOverlay} {
        background: #FFF !important;
      }
      .theme-night ${jt.sidePanel.loadingOverlay} {
        background: #D4D5D9 !important;
      }

      ${jt.sidePanel.postPerformancePane} {
        background: transparent;
      }

      .MediaManagerInstagramPostPreview {
        width: 100%;
      }

      html.is-igtv ${jt.sidePanel.editPostButton} {
        display: none;
      }

      ${jt.general.translationsButton} {
        display: none;
      }
    </style>
  `}(),m.insertMultistyle`
    <style>
      ::-webkit-scrollbar {
        display: none;
      }
    </style>
  `,m.insertMultistyle`
    <style>
      /* dark background on panels */
      .theme-night #creator_studio_sliding_tray_root ._6lsf,
      .theme-night #creator_studio_sliding_tray_root > div > div > div:nth-child(2) > div:nth-child(1), div._759f,
      .theme-night #creator_studio_sliding_tray_root > div > div > div:nth-child(2) > div:nth-child(1) > div, div._75fk,
      .theme-night #creator_studio_sliding_tray_root > div > div > div:nth-child(2) > div:nth-child(2), div._759g {
        background-color: #d4d5d9 !important;
      }
      /* extra padding for the side panel content */
      .theme-night #creator_studio_sliding_tray_root ._6lsf {
        padding-top: 10px !important;
      }
      /* dark background on input and textarea elements */
      .theme-night ._8525 ._7-2a,
      .theme-night ._36g4 {
        background-color: #f2f3f5 !important;
      }
      /* white color on buttons */
      .theme-night div.uiOverlayFooter a[action='cancel'],
      .theme-night div.uiOverlayFooter button[action='confirm'],
      .theme-night #creator_studio_sliding_tray_root button[type="button"] {
        color: black !important;
      }
      /* white color on schedule dropdown button and carousel paginators */
      .theme-night div._8122 > button > div > i,
      .theme-night div._80qf[role="button"] > i,
      .theme-night div._80qi[role="button"] > i,
      .theme-night a._50z2[role="button"],
      .theme-night a._50z1[role="button"] {
        -webkit-filter: url(#theme-reverse-filter) !important;
        filter: url(#theme-reverse-filter) !important;
      }
      /* modal window background */
      .theme-night .ModalLayout {
        filter: url(#theme-reverse-filter);
        background: #000;
      }


      .theme-night ${jt.sidePanel.postPreviewCaption} {
        filter: url(#theme-reverse-filter);
      }
      .theme-night ${jt.sidePanel.postPreviewCaption},
      .theme-night ${jt.sidePanel.postPreviewCaption} * {
        color: #D4D7D9 !important;
      }
      .theme-night ${jt.sidePanel.postPreviewCaption} a {
        color: #728FC9 !important;
      }

      .theme-night ${jt.sidePanel.mediaPreviewContainer} {
        background: #FFF;
      }

      .theme-night ${jt.sidePanel.mediaPreviewControls} {
        filter: url(#theme-reverse-filter);
      }
    </style>
  `,m.insertMultistyle`
    <style>
      ${jt.sidePanel.locationRoot} {
        user-select: none;
        cursor: pointer;
        width: 502px;
      }
    </style>
  `,m.onDocClick((t=>{if(!t.target.closest(jt.sidePanel.locationRoot))return;const e=$t(jt.sidePanel.locationInput);e?e.focus():bt.sendError({message:"upgradeAddLocationButton: failed to find location input"})})),m.insertMultistyle`
    <style>
      ${jt.sidePanel.goToPostButton} {
        font-size: 16px !important;
        font-weight: 600;
        text-transform: uppercase;
      }
      ${jt.sidePanel.goToPostButton} * {
        font-family: inherit !important;
      }

      ${jt.sidePanel.doneButton} {
        display: none;
      }

      ${jt.sidePanel.editPostButton} {
        max-width: none !important;
      }
    </style>
  `,m.onDocMutations((()=>{Wt(jt.confirmDialog.yes).forEach((t=>{t.click()}))})),m.onDocMutations((()=>{Wt(jt.tooltip.bubble).forEach((t=>{const e=t.closest(jt.tooltip.root);if(!e)return;const o=t.closest(jt.tooltip.bubbleWrap);if(!o)return;const a=$t(`#${e.dataset.ownerid}`);if(!a)return;const n=a.getBoundingClientRect();if(n.left<150&&o.classList.contains("uiContextualLayerLeft")){o.classList.remove("uiContextualLayerLeft"),o.classList.add("uiContextualLayerRight"),o.style.left=0,o.style.right=null,e.style.left=`${n.left+n.width}px`,e.style.right=null;const a=t.offsetWidth,i=t.offsetHeight;if(a>i)return;t.style.width=`${Math.round(.75*i)}px`}}))})),async function(){const t=window.inssist.schedule.requireModule,e=await t(Kt.MediaManagerDispatcher),o=e.dispatch;e.dispatch=(...t)=>{const a=t[0];if(a.type!==Kt.CLOSE_COMPOSER||a.fromInssist)return o.call(e,...t)}}(),_t.onRequest((({xhr:t,url:e,query:o,modifyUrl:a})=>{if(!e.includes(Kt["/media_manager/content_library"])&&!e.includes(Kt["/media_manager/media_manager_instagram_content"]))return;const n=new URL(e),i=o[Kt.post_type];i===Kt.POST_TYPE_IGTV?(n.searchParams.set(Kt.post_status,Kt.POST_STATUS_DRAFT),n.searchParams.set(Kt.limit,1),a(n.toString())):i===Kt.POST_TYPE_VIDEOS?(n.searchParams.set(Kt.post_type,Kt.POST_TYPE_ALL),n.searchParams.set(Kt.post_status,Kt.POST_STATUS_PUBLISHED),n.searchParams.set(Kt.limit,100),a(n.toString())):i===Kt.POST_TYPE_PHOTOS?(n.searchParams.set(Kt.post_type,Kt.POST_TYPE_ALL),n.searchParams.set(Kt.post_status,Kt.POST_STATUS_SCHEDULED),n.searchParams.set(Kt.limit,500),a(n.toString())):i===Kt.POST_TYPE_CAROUSELS&&(n.searchParams.set(Kt.post_type,Kt.POST_TYPE_ALL),n.searchParams.set(Kt.post_status,Kt.POST_STATUS_DRAFT),n.searchParams.set(Kt.limit,500),a(n.toString()))})),await async function(t){const e=window.inssist.schedule.requireModule,o=await e(Kt.immutable);Ft.dispatch({type:Kt.SELECT_IG_PROFILES,[Kt.selectedProfileIDs]:o.List([t.id])})}(gt.user),re(),Ft.onDispatch((t=>{t.type===Kt.TOGGLE_CROSSPOST_TO_FACEBOOK_CHECKBOX&&(gt.crosspostToFb=t.value)})),Ft.onDispatch((t=>{t.type===Kt.CONTENT_TABLE_REFRESH_ROWS_FINISHED&&Object.values(t[Kt.rowsByIDs]).forEach((t=>{m.removeFromArray(gt.allPosts,(e=>e.id===t.id)),gt.allPosts.push(t)}))})),Ft.onDispatch((t=>{if(t.type!==Kt.PUSH_NOTIFICATION)return;if(!(Kt.isSuccess in t[Kt.notificationData]))return;if(t[Kt.notificationData][Kt.isSuccess])return;const e=t[Kt.notificationData][Kt.notificationDataLabel].toString();dt.send("schedule.fcs-notification-error-appeared",{postId:gt.selectedPostId,errorText:e})})),function(){const t=Symbol("handled");m.onDocMutations((()=>{const e=$t(jt.sidePanel.editPostBottomRow);e&&(e[t]||gt.selectedPostId&&(e[t]=!0,e.insertAdjacentHTML("afterbegin",'\n      <button class="delete-post-button">\n        <svg class="delete-post-button__icon" width="14" height="14" viewBox="0 0 14 14">\n          <path fill="none" d="M0 0h14v14H0z"/>\n          <path d="M3.099 14a.74.74 0 0 1-.779-.652L1.8 3.772h9.874l-.52 9.576a.74.74 0 0 1-.779.652zM.965 2.824V1.287A.489.489 0 0 1 1.454.8h3.357V.163A.163.163 0 0 1 4.974 0H8.5a.163.163 0 0 1 .165.163V.8h3.357a.489.489 0 0 1 .489.489v1.535z" fill="currentColor"/>\n        </svg>\n        <span class="delete-post-button__label">\n          DELETE POST\n        </span>\n      </button>\n    ')))})),m.onDocClick((t=>{t.target.closest(".delete-post-button")&&dt.send("schedule.delete-post",gt.selectedPostId)})),m.insertMultistyle`
    <style>
      .delete-post-button {
        height: 36px;
        line-height: 34px;
        font-size: 16px;
        color: #E34E21;
        background: #F5F5F5;
        font-weight: 600;
        padding: 0 22px;
        border-radius: 5px;
        cursor: pointer;
        border: 1px solid #EFEFEF;
        transition: filter 0.3s;
        white-space: nowrap;
      }
      .delete-post-button:hover {
        filter: brightness(95%);
      }
      .delete-post-button:active {
        filter: brightness(90%);
      }

      /* show uploading progress near delete post button */
      .delete-post-button + *:not(:last-child) {
        margin-right: auto;
        margin-left: 24px;
      }

      .delete-post-button__icon {
        margin-right: 4px;
        position: relative;
        top: 1px;
      }
    </style>
  `}(),function(){const t=Symbol("handled");m.onDocMutations((()=>{const e=$t(jt.general.headerMessageIconContainer);if(!e)return;if(e[t])return;e[t]=!0;e.parentElement.style.display="none"}))}(),ae()}};let jt,Kt;function Yt(t){location.href=t}async function Xt(t,{isIgtv:e=!1}={}){document.documentElement.classList.toggle("is-igtv",e);const o=window.inssist.schedule.requireModule,a=await o(Kt.queryIGMediaData),n=await o(Kt.MediaManagerInstagramContentActions);await oe(),gt.selectedPostId=t;const i=await m.callAsync(a,t);"POSTED"===i.postStatus?(n.setShouldShowPostDetailTray(!0,i),Ht.restoreCaptionForCurrentPost()):(await re(),n.editPost(i),Ht.restoreCaptionForCurrentPost())}async function Jt({postMode:t="publish",localPostId:e=null,localPostFiles:o=[]}){const a=Jt;document.documentElement.classList.toggle("is-igtv",!1),gt.crosspostToFb=!1,gt.selectedPostId=e||null,await oe();const n=window.inssist.schedule.requireModule;await re();(await n(Kt.MediaManagerInstagramComposerRootActions)).openComposer(Kt.IG_FEED_ORGANIC),Ft.dispatch({type:Kt.SELECT_INSTAGRAM_ACCOUNT,instagramAccount:gt.user}),Ft.dispatch({type:Kt.SWITCH_POST_MODE,[Kt.isEditComposer]:!1,[Kt.postMode]:t}),Ht.restoreCaptionForCurrentPost(),0!==o.length&&(clearTimeout(a.timeout),a.timeout=setTimeout((()=>{Ft.dispatch({type:Kt.FILES_ADDED,[Kt.files]:o})}),200))}function Qt(){location.href=Et()}async function Zt(){return!!window.require}async function te(){const t=window.inssist.schedule.requireModule,e=await t(Kt.MediaManagerInstagramComposerUploadStore);return await new Promise((t=>{const o=setInterval((()=>{const a=e.getState().toJS(),n=a.isUploadFailed,i=a.isUploadFinished;n?(clearInterval(o),t(!1)):i&&(clearInterval(o),t(!0))}),500)}))}function ee(){Ft.dispatch({type:"PUBLISH_MEDIA"})}async function oe(){const t=window.inssist.schedule.requireModule;(await t(Kt.MediaManagerInstagramContentActions)).setShouldShowPostDetailTray(!1),Ft.dispatch({type:Kt.SHOW_EXIT_COMPOSER_CONFIRM_DIALOG}),Ft.dispatch({type:Kt.CLOSE_COMPOSER,fromInssist:!0})}function ae(){const t=ae;t.init||(t.init=!0,t.lastPostCount=0,Ft.onDispatch((e=>{if(t.refreshing&&e.type===Kt.SET_CONTENT_LIBRARY_DATA){const o=e.queryParameters.toJS().postType;if(!(o===Kt.POST_TYPE_IGTV||o===Kt.POST_TYPE_VIDEOS||o===Kt.POST_TYPE_PHOTOS||o===Kt.POST_TYPE_CAROUSELS))return;if(o===Kt.POST_TYPE_IGTV)return void Ft.dispatch({type:Kt.SELECT_CONTENT_TABLE,contentTable:Kt.INSTAGRAM_VIDEO_POSTS,source:Kt.instagram_content_library_posts});o===Kt.POST_TYPE_VIDEOS&&Ft.dispatch({type:Kt.SELECT_CONTENT_TABLE,contentTable:Kt.INSTAGRAM_PHOTO_POSTS,source:Kt.instagram_content_library_posts}),o===Kt.POST_TYPE_PHOTOS&&Ft.dispatch({type:Kt.SELECT_CONTENT_TABLE,contentTable:Kt.INSTAGRAM_CAROUSEL_POSTS,source:Kt.instagram_content_library_posts});const a=e.data.data.toJS();for(const t of a)m.removeFromArray(gt.allPosts,(e=>e.id===t.id)),gt.allPosts.push(t);if(o===Kt.POST_TYPE_CAROUSELS){if(t.lastPostCount-gt.allPosts.length>3)return t.lastPostCount=0,t.refreshing=!1,void ae();t.lastPostCount=gt.allPosts.length,dt.send("schedule.apply-fcs-posts",gt.allPosts),t.refreshing=!1}}}))),t.refreshing||(gt.allPosts.length=[],t.refreshing=!0,Ft.dispatch({type:Kt.SELECT_CONTENT_TABLE,contentTable:Kt.INSTAGRAM_IGTV_POSTS,source:Kt.instagram_content_library_posts}),Ft.dispatch({type:Kt.REFRESH_TAB,tab:Kt.instagram_content_posts}))}function ne(){m.onDocMutations((()=>{Wt("video").forEach((t=>{t.hasAttribute("autoplay")&&(t.pause(),t.removeAttribute("autoplay"))}))}),!0)}function ie(){history.pushState=history.replaceState}async function re(){const t=window.inssist.schedule.requireModule,e=await t(Kt.MediaManagerLazyLoadActions);await m.callAsync(e.lazyLoadSection,Kt.INSTAGRAM_COMPOSER)}const{$:se,$$:le}=m;var de={init:async function(){if(await At.waitForInit(),await Ft.waitForInit(),!gt.user)return;ce=_.controller.getConfig().fcsSelectors,ue=_.controller.getConfig().fcs,m.onDocClick((t=>{t.target.closest(ce.upload.root)&&(t.target.closest("input")||t.target.closest("button")||pe(se(ce.upload.button)))})),m.insertMultistyle`
    <style>
      ${ce.upload.root} {
        border-radius: 7px;
        user-select: none;
        cursor: pointer;
      }
      ${ce.upload.buttonWrap} {
        display: none;
      }
    </style>
  `,function(){const t=Symbol("handled");m.onDocMutations((()=>{const e=se(ce.upload.addContentButton);if(!e)return;const o=se(ce.sidePanel.mediaList);if(!o)return;const a=se(".add-media");a&&(a.style.display=o.childElementCount<10?null:"none"),o[t]||0!==o.childElementCount&&(o[t]=!0,o.insertAdjacentHTML("afterend",'\n      <div></div>\n      <button class="add-media" type="button">\n        <div class="add-media__icon">+</div>\n        ADD CONTENT\n      </button>\n    '),se(".add-media").addEventListener("click",(()=>{pe(e)})))})),m.insertMultistyle`
    <style>
      ${ce.upload.addContentButtonWrap} {
        visibility: hidden;
        position: fixed;
        left: -10000px;
      }

      .add-media {
        display: flex;
        align-items: center;
        height: 36px;
        padding: 0 20px;
        color: #FFF;
        background: #A5AAAF;
        margin-top: 12px;
        margin-left: 0 !important;
        margin-right: 16px !important;
        float: left;
      }

      .add-media__icon {
        font-size: 25px;
        margin-right: 8px;
      }
    </style>
  `}(),m.insertMultistyle`
    <style>
      ${ce.sidePanel.coverSelectionRadioBox} {
        position: relative;
        top: 2px;
      }
    </style>
  `,m.onDocMutations((()=>{le(ce.sidePanel.uploadingVideo).forEach((t=>{t.controls=!0}))})),m.insertMultistyle`
    <style>
      ${ce.sidePanel.uploadingVideoPlayButton} {
        display: none !important;
      }

      ${ce.sidePanel.uploadingVideoCustomControls} {
        display: none !important;
      }
    </style>
  `,function(){const t=Symbol("handled");m.onDocMutations((()=>{le(ce.sidePanel.mediaPreviewVideo).forEach((e=>{e[t]||(e[t]=!0,e.setAttribute("disablePictureInPicture",""),e.setAttribute("controlslist","nodownload"))}))})),m.insertMultistyle`
    <style>
      ${ce.sidePanel.mediaPreviewVideo}::-webkit-media-controls-fullscreen-button {
        display: none;
      }
    </style>
  `}(),function(){const t=Symbol("handled");m.onDocMutations((()=>{const e=se(".add-media");if(!e)return;const o=se(ce.sidePanel.mediaList);if(!o)return;const a=se(".reverse-media-list-button");if(a){const t=o.childElementCount<=1?"none":null;a.style.setProperty("display",t,"important")}if(e[t])return;e[t]=!0,e.insertAdjacentHTML("afterend",'\n      <button class="reverse-media-list-button" type="button">\n        <span class="reverse-media-list-button__icon">↪︎</span>\n        REVERSE\n      </button>\n    ');se(".reverse-media-list-button").addEventListener("click",(async()=>{try{const t=window.inssist.schedule.requireModule,e=(await t(ue.MediaManagerInstagramComposerUploadStore)).getState().toObject().fileMap.toObject(),o=Object.keys(e);if(o.length<2)return;o.forEach(((t,e)=>{Ft.dispatch({type:ue.SUBMIT_MEDIA_ORDER,[ue.mediaOrderId]:t,[ue.prevIndex]:0,[ue.newIndexString]:String(o.length-e),[ue.totalMedia]:o.length})}))}catch(t){console.error("schedule injection media controller →","addReverseMediaButton",t)}}))})),m.insertMultistyle`
    <style>
      #creator_studio_sliding_tray_root button[type="button"].reverse-media-list-button {
        display: flex;
        align-items: center;
        height: 36px;
        padding: 0 20px;
        color: #1BA2F9 !important;
        background: #F5F5F5 !important;
        border: 1px solid #EFEFEF !important;
        margin-top: 12px;
        margin-left: 0;
        float: left;
      }

      .reverse-media-list-button__icon {
        position: relative;
        top: 3px;
        font-size: 17px;
        margin-right: 8px;
      }
    </style>
  `}(),async function(){const t=window.inssist.schedule.requireModule,e=await t(ue.ImageExifRotation);if(!e)return;e.getRotation=(t,e)=>(e&&"function"==typeof e&&e(0),0)}()}};let ce,ue;function pe(t){t||bt.throwError({message:"startUpload: failed to find upload button"}),t.click();const e=se(ce.upload.input);e||bt.throwError({message:"startUpload: failed to find upload input"});const o=e.closest(ce.tooltip.root);o||bt.throwError({message:"startUpload: failed to find upload tooltip"}),o.style.opacity=0,o.style.pointerEvents="none",e.click()}const{$:ge}=m;var he={init:async function(){me=_.controller.getConfig().fcsSelectors,dt.on("schedule.connect-via-fb",Pe),dt.on("schedule.connect-via-ig",_e)}};let me;async function Pe(){if(await Ft.waitForInit(),!Ft.dispatch)return{error:"failed-to-init-dispatcher"};const t=await m.waitFor((()=>ge(".MediaManagerInstagramContentPostsTabContainer")||ge('[role="tab"][aria-selected="true"]')?"content":ge(".MediaManagerInstagramOnboardingScreen")?"welcome":null));if(!t)return{error:"failed-to-detect-page-type"};"content"===t&&(Ft.dispatch({type:"SELECT_TAB",tab:"instagram_accounts",source:"left_nav"}),await m.waitFor((()=>location.href.includes("instagram_accounts"))),await m.waitFor((()=>ge(".MediaManagerInstagramTabHeaderContainer")))),Ft.dispatch({type:"SET_SHOW_INSTAGRAM_ONBOARDING_DIALOG",shown:!0}),await m.waitFor((()=>ge(".MediaManagerInstagramAccountPermissionMessageDialog")));const e=await new Promise((t=>{let e;const o=window.open;window.open=(a,n,i)=>{if(!a.includes("/oauth/authorize/"))return o(a,n,i);(async()=>{i=fe();const r=o(a,n,i);window.open=o,await m.waitFor((()=>r.closed)),e=setTimeout((()=>{t({error:"auth-window-closed-by-user"})}),5e3)})()};const a=window.require("ReloadPage"),n=a.now;a.now=()=>{clearTimeout(e),a.now=n,t({success:!0})},Ft.onDispatch((o=>{clearTimeout(e),"SET_LOGIN_INSTAGRAM_ACCOUNT_SUCCESS"===o.type&&t({error:"not-connected-to-fb-page"})})),Ft.dispatch({type:"AUTHENTICATE_INSTAGRAM_USER"})}));return Ft.dispatch({type:"SELECT_TAB",tab:"instagram_content",source:"left_nav"}),await m.waitFor((()=>location.href.includes("instagram_content"))),e}async function _e(){if(await Ft.waitForInit(),!Ft.dispatch)return{error:"failed-to-init-dispatcher"};if(ge(me.general.fbLoginRequiredContainer))return{error:"failed-to-skip-fb-login"};return await new Promise((t=>{let e;const o=window.open;window.open=(a,n,i)=>{if(!(a=a.toString()).includes("/oauth/authorize/"))return o(a,n,i);(async()=>{i=fe();const r=o(a,n,i);window.open=o,await m.waitFor((()=>r.closed)),e=setTimeout((()=>{t({error:"auth-window-closed-by-user"})}),5e3)})()};const a=window.require("URI"),n=a.goURIOnWindow;a.goURIOnWindow=(...o)=>{clearTimeout(e),a.goURIOnWindow=n,t({success:!0})},Ft.dispatch({type:"IG_AUTHENTICATION_LOG_IN"})}))}function fe(){return`scrollbars,top=${Math.round(screen.height/2-350)},left=${Math.round(screen.width/2-300)},width=600,height=700`}const{$:be,$$:ye}=m;var ve={init:async function(){if(Se=_.controller.getConfig().fcsSelectors,Ce=_.controller.getConfig().fcs,await At.waitForInit(),await Ft.waitForInit(),!gt.user)return;(function(){let t,e;m.onDocMutations((()=>{t=ye(Se.sidePanel.mediaPreview),e=be(Se.sidePanel.mediaPreviewVideo)})),_t.onRequest((({url:o,onResponse:a})=>{if(!function(t){return t.includes(Ce["/media/manager/instagram_composer/create_post"])}(o))return;let n,i;n=t.length>1?"carousel":e?"video":"photo",t.length>0?i=t[0].getAttribute("src"):console.error("failed to find media preview image"),dt.send("schedule.fcs-create-post-request",{type:n,image:i,crosspostToFb:gt.crosspostToFb,localPostId:gt.selectedPostId||null}),a((()=>{dt.send("schedule.fcs-create-post-response",{image:i})}))})),_t.onRequest((({url:t,query:e,onResponse:o})=>{if(!function(t){return t.includes(Ce["/media/manager/instagram_media/edit/save"])}(t))return;const a=gt.selectedPostId;let n,i;"true"===e[Ce["edit_data[save_as_draft]"]]?(n=null,i="draft"):"true"===e[Ce["edit_data[save_as_scheduled]"]]?(n=Te,i="scheduled"):(n=null,i="posted"),dt.send("schedule.fcs-edit-post-request",{postId:a,status:i,on:n}),o((t=>{dt.send("schedule.fcs-edit-post-response",{postId:a,status:i})}))}))})(),function(){const t=Ce.MIN_MINUTES_FROM_NOW;m.insertMultistyle`
    <style>
      ${Se.dateDialog.root} {
        position: fixed;
        left: -10000px;
      }
    </style>
  `;let e=!1;m.onDocMutations((()=>{const t=be(Se.dateDialog.rootOpen);(!e&&t||e&&!t)&&(e=!e,dt.send("schedule.fcs-date-dialog-toggled",e))}));const o=Symbol("handled");m.onDocMutations((()=>{const e=be(Se.sidePanel.save);e&&(e[o]||e.nextElementSibling&&(e[o]=!0,e.addEventListener("click",(e=>{const o=Date.now()+t*m.time.MINUTE;"schedule"===we&&(!Te||Te<o)&&(e.preventDefault(),e.stopPropagation(),dt.send("schedule.fcs-date-dialog-invalid-time"))}),!0)))}))}(),async function(){const t=async()=>await dt.send("schedule.has-pro"),e=Symbol("handled");m.onDocMutations((()=>{const o=be(Se.sidePanel.save);if(!o)return;if(o[e])return;o[e]=!0;let a=!0;o.addEventListener("click",(e=>{a?(e.preventDefault(),e.stopPropagation(),(async()=>{if(await t())return a=!1,void o.click();const e=be(Se.sidePanel.dateDialogTrigger);e&&e.click(),dt.send("schedule.show-upsell")})()):a=!0}),!0)}))}(),dt.on("schedule.fcs-date-dialog-get-timezone",Ie),dt.on("schedule.fcs-date-dialog-select-option",Ee),dt.on("schedule.fcs-date-dialog-set-selected-option",Me),dt.on("schedule.fcs-date-dialog-set-publish-time",Oe)}};let Se,Ce,Te=null,we=null;function Ie(){const t=window.require(Ce.DateTime).localNow().getTimezoneID();return window.require(Ce.TimezoneNamesData).zoneNames[t]}function Ee(t){const e={"publish-now":Ce.postModePublish,"save-as-draft":Ce.postModeDraft,schedule:Ce.postModeSchedule}[t],o={type:Ce.SWITCH_POST_MODE,[Ce.postMode]:e};Ft.dispatch({...o,[Ce.isEditComposer]:!1}),Ft.dispatch({...o,[Ce.isEditComposer]:!0})}function Me(t){we=t}function Oe(t){if(Te=t,!Te)return;const e={type:Ce.SELECT_SCHEDULED_DATE,[Ce.scheduledDate]:new Date(Te)};Ft.dispatch({...e,[Ce.isEditComposer]:!1}),Ft.dispatch({...e,[Ce.isEditComposer]:!0})}var De={init:async function(){if(await At.waitForInit(),await Ft.waitForInit(),!gt.user)return;xe=_.controller.getConfig().fcsSelectors,Ae=_.controller.getConfig().fcs,m.insertMultistyle`
    <style>
      ${xe.postToFb.root} {
        display: none;
      }
    </style>
  `;const t=gt.user.connectedPageInfo;if(!t)return;t.url=`https://facebook.com/${t.name}-${t.id}`;t.name.toLowerCase().startsWith("inssist:")||(function(t){const e=Symbol("handled");m.onDocMutations((()=>{const t=m.$(xe.postToFb.checkboxRow);if(!t)return;const e=!!m.$(xe.sidePanel.mediaList);t.style.opacity=e?null:.5}),!0),m.onDocMutations((()=>{const t=m.$(xe.postToFb.title);t&&!t[e]&&(t[e]=!0,t.innerText="Clone to Facebook");const o=m.$(xe.postToFb.body);o&&!o[e]&&(o[e]=!0,o.innerHTML='\n        <div class="post-to-fb__text">\n          Post will be cloned to Facebook Page. Facebook posts\n          can be managed separately from the\n          <a\n            class="post-to-fb__link"\n            href="https://business.facebook.com/creatorstudio/"\n            target="_blank">\n            Facebook Creator Studio</a>.\n        </div>\n      ')}),!0),m.onDocMutations((()=>{const t=m.$(xe.postToFb.checkboxRow);if(!t)return;if(t[e])return;t[e]=!0;const o=m.$(xe.postToFb.checkboxButton);o&&t.addEventListener("click",(t=>{t.target.closest(xe.postToFb.checkboxButton)||o.click()}))})),m.insertMultistyle`
    <style>
      html ${xe.postToFb.root} {
        display: block;
        margin-top: 40px;
        padding-bottom: 80px;
      }

      html ${xe.postToFb.publishTypeButton} {
        display: none;
      }

      ${xe.postToFb.checkboxRow} {
        margin-top: 10px;
        margin-left: -7px;
        cursor: pointer;
        user-select: none;
      }

      ${xe.postToFb.checkboxButton} {
        background: transparent !important;
        border: 1px solid #DADDE1 !important;
      }
      .theme-night ${xe.postToFb.checkboxButton} {
        border-color: #464646 !important;
      }

      ${xe.postToFb.checkboxText} {
        pointer-events: none;
      }

      ${xe.postToFb.body} {
        margin-top: 10px;
        margin-left: 0;
      }

      .post-to-fb__text {
        line-height: 19px;
        width: 380px;
      }

      .post-to-fb__link {
        color: #1BA2F9;
        text-decoration: none !important;
      }
    </style>
  `}(),function(){let t,e;dt.on("schedule.fcs-date-dialog-set-selected-option",(e=>{t=e,o()})),dt.on("schedule.fcs-date-dialog-set-publish-time",(t=>{e=t,o()})),Ft.onDispatch((t=>{t.type===Ae.TOGGLE_CROSSPOST_TO_FACEBOOK_CHECKBOX&&o()}));const o=()=>{"save-as-draft"===t?Ft.dispatch({type:Ae.SWITCH_CROSSPOST_POST_MODE,[Ae.postMode]:Ae.postModeDraft}):"publish-now"===t?Ft.dispatch({type:Ae.SWITCH_CROSSPOST_POST_MODE,[Ae.postMode]:Ae.postModePublish}):"schedule"===t&&(Ft.dispatch({type:Ae.SWITCH_CROSSPOST_POST_MODE,[Ae.postMode]:Ae.postModeSchedule}),e&&Ft.dispatch({type:Ae.SELECT_CROSSPOST_SCHEDULED_DATE,[Ae.scheduledDate]:new Date(e)}))}}(),function(t){const e=Symbol("handled");m.onDocMutations((async()=>{const o=m.$(".delete-post-button");if(!o)return;if(o[e])return;o[e]=!0;const a=await dt.send("schedule.get-post",gt.selectedPostId);if(!a)return;if(!a.crosspostToFb)return;let n;n="draft"===a.status?`${t.url}/publishing_tools?section=DRAFTS`:"scheduled"===a.status?`${t.url}/publishing_tools?section=SCHEDULED_POSTS`:`${t.url}/publishing_tools`,o.insertAdjacentHTML("afterend",`\n      <a\n        class="manage-fb-posts-link"\n        href="${n}"\n        target="_blank">\n        MANAGE FACEBOOK POSTS\n      </a>\n      <div style="flex-grow: 1"></div>\n    `)}),!0),m.insertMultistyle`
    <style>
      .manage-fb-posts-link {
        margin-left: 30px;
        font-size: 16px;
        line-height: 19px;
        font-weight: 600;
        color: #1BA2F9;
        text-decoration: none !important;
        -webkit-font-smoothing: antialiased;
      }
    </style>
  `}(t))}};let xe,Ae;var Re={init:async function(){Be=_.controller.getConfig().fcsSelectors,function(){const t=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(...e){const o=e[1];return(null==o?void 0:o.includes("/media/manager/instagram_composer/video_upload/"))&&(Le.uploadRequestStarted=!0,Le.uploadResponseTexts=[],this.addEventListener("readystatechange",(()=>{Le.uploadResponseTexts.push(this.responseText||"")}))),t.call(this,...e)}}(),function(){let t=null;m.onDocMutations((()=>{const e=m.$(Be.sidePanel.uploadProgress);if(e){if("99.9%"===e.innerText){if(t)return;t=setInterval((()=>{document.body.contains(e)?dt.send("chrome-bus","schedule.upload-99",function(){const t=window.require;return{gkx:m.safe((()=>t("gkx")("1509806")),"failed"),asyncUpload:m.safe((()=>t("killswitch")("MEDIA_MANAGER_INSTAGRAM_ASYNC_UPLOAD")),"failed"),requestOption:m.safe((()=>t("AsyncRequest").toString().split("this.option=")[1].split("}")[0]+"}"),"failed"),uploadResponseTexts:Le.uploadResponseTexts,uploadRequestStarted:Le.uploadRequestStarted}}()):(clearInterval(t),t=null,Le.uploadRequestStarted=!1)}),1e3)}if("100%"===e.innerText){if(!t)return;clearInterval(t),t=null,Le.uploadRequestStarted=!1,dt.send("chrome-bus","schedule.upload-100")}}}))}()}};let Be;const Le={uploadResponseTexts:[],uploadRequestStarted:!1};var ke={init:async function(){const t=window.inssist.schedule.requireModule;if(Fe=await t("MediaManagerDispatcher"),Ne=await t("MediaManagerMediaCroppingActions"),Ge=await t("MediaManagerMediaCroppingRatioSettings"),He=await t("MediaManagerMediaCroppingDialogCropBox.react"),!(Fe&&Ne&&Ge&&He))return;(async function(){const t=Ne.openDialog;Ne.openDialog=(...e)=>{try{const t=e[4];t.push(Ge.FREEFORM),t[0].label="1:1",t[1].label="1.91:1",t[2].label="4:5",t[3].label="Any",t[3].description="Choose any aspect ratio from 1.91:1 to 4:5."}catch(t){console.error("failed to patch ratio options",t)}return t.call(Ne,...e)}})(),function(){let t;const e=He.prototype.render;He.prototype.render=function(...o){return t=this,e.call(this,...o)};const o=Fe.dispatch;Fe.dispatch=e=>{if("MEDIA_CROPPING_DIALOG_SET_DIMENSIONS"===e.type)try{const o=e.dimensions,a=o.width/o.height;if(a<.8){const e=Math.floor(o.width/.8);o.height=e,t.setState({height:e})}else if(a>1.91){const e=Math.floor(1.91*o.height);o.width=e,t.setState({width:e})}}catch(t){console.error("failed to automatically adjust ratio",t)}return o.call(Fe,e)}}()}};let Fe,Ne,Ge,He;var qe={ctx:gt,utils:ht,controller:{init:async function(){window.ctx=gt,_t.init(),Mt.init(),Ft.init(),At.init(),he.init(),zt.init(),de.init(),ve.init(),De.init(),Ht.init(),Re.init(),ke.init()}},dispatchController:Ft};let Ue;function Ve(t){qe.utils.setCaption(t)}var $e={controller:{init:async function(){if(Ue=_.controller.getConfig().fcsSelectors,dt.on("tag-assist.fcs-set-caption",Ve),await qe.dispatchController.waitForInit(),!qe.ctx.user)return;(async function(){qe.dispatchController.onDispatch((t=>{"OPEN_COMPOSER"===t.type||"CONTENT_INSTAGRAM_EDIT_POST"===t.type?dt.send("tag-assist.fcs-composer-opened"):"CLOSE_COMPOSER"===t.type&&dt.send("tag-assist.fcs-composer-closed")}))})(),async function(){let t=null;const e=()=>{const e=qe.utils.getCaption();e!==t&&(t=e,dt.send("tag-assist.fcs-caption-change",e))},o=Symbol("handled");m.onDocMutations((()=>{const t=m.$(Ue.sidePanel.captionTextarea);t&&(e(),t[o]||(t[o]=!0,t.addEventListener("input",e),t.addEventListener("keydown",e)))}))}()}}};let We,ze;function je(t){chrome.tabs.create({url:t,active:!0})}var Ke={controller:{init:function(){if(We=!!window.electron,ze=r.isIframe()&&r.getParams().isElectron,!We&&!ze)return;We&&dt.on("electron-links.open-url",je);document.addEventListener("click",(t=>{const e=t.target.closest("a");if(!e)return;if("_blank"!==e.getAttribute("target"))return;const o=e.getAttribute("href");o.startsWith("/")||(t.preventDefault(),t.stopPropagation(),ze?dt.send("electron-links.open-url",o):je(o))}),{capture:!0})}}};({init:async function(){Ke.controller.init(),m.iframe.isIframe("inssist-fcs")&&(await m.waitForDocumentReady(),pt.init(),$e.controller.init())}}).init()}();